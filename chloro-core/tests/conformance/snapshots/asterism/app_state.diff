COMPARISON DIFF
============================================================

Original size: 31467 bytes
Chloro size:   31456 bytes
Rustfmt size:  31467 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! track of the cumulative total number of lines that have been added to the file during the
 //! session so that we can determine the correct offset to insert content at without re-parsing.
 
+#[cfg(test)]
+#[path = "tests/app_state.rs"]
+mod tests;
+
+use std::collections::HashMap;
+use std::path::PathBuf;
+use std::{fs, io};
+
+use edtui::{EditorState, Lines};
+
 use crate::edit_plan::{Edit, EditPlan};
 use crate::formats::markdown::MarkdownFormat;
 use crate::input;
 use crate::section::ChunkType;
 use crate::section::{Section, TreeNode};
-use edtui::{EditorState, Lines};
-use std::collections::HashMap;
-use std::path::PathBuf;
-use std::{fs, io};
 
 /// Determines navigation scope and quit behavior based on project size.
 #[derive(PartialEq)]
         let mut nodes = Vec::new();
 
         // Determine if this is difftastic mode by checking if multiple sections share the same file_path
+
         // (in markdown mode, each section has a unique file path or sections are from the same file)
         let mut file_section_counts: HashMap<String, usize> = HashMap::new();
         for section in sections {
             if let Some(node_idx) = self
                 .tree_nodes
                 .iter()
-                .position(|n| n.section_index == Some(current_section_idx))
-            {
+                .position(|n| n.section_index == Some(current_section_idx)) {
                 self.current_node_index = node_idx;
             }
         }
         if let Some(section_idx) = self.get_current_section_index() {
             if let Some(section) = self.sections.get(section_idx) {
                 let lines_added = self.editor_state.as_ref().map_or(0, |es| es.lines.len());
-
                 let file_map = self
                     .file_offsets
                     .entry(section.file_path.clone())
                     .or_default();
-
                 file_map.insert(section.line_start, lines_added);
             }
         }
         Ok(())
     }
 }
-
-#[cfg(test)]
-#[path = "tests/app_state.rs"]
-mod tests;