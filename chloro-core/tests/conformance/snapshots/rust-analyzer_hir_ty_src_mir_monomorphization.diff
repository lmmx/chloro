COMPARISON DIFF
============================================================

Original size: 9213 bytes
Chloro size:   9099 bytes
Rustfmt size:  9281 bytes

âœ— Outputs DIFFER

--- DIFF (- rustfmt, + chloro) ---
 
 use crate::next_solver::{Const, ConstKind, Region, RegionKind};
 use crate::{
+    TraitEnvironment,
     db::{HirDatabase, InternedClosureId},
     next_solver::{
-        infer::{traits::ObligationCause, DbInternerInferExt, InferCtxt},
+        DbInterner, GenericArgs, Ty, TyKind, TypingMode,
+        infer::{DbInternerInferExt, InferCtxt, traits::ObligationCause},
         obligation_ctxt::ObligationCtxt,
-        references_non_lt_error, DbInterner, GenericArgs, Ty, TyKind, TypingMode,
+        references_non_lt_error,
     },
-    TraitEnvironment,
 };
-
 use super::{MirBody, MirLowerError, Operand, OperandKind, Rvalue, StatementKind, TerminatorKind};
-
 struct Filler<'db> {
     infcx: InferCtxt<'db>,
     trait_env: Arc<TraitEnvironment<'db>>,
         if !ty.has_type_flags(TypeFlags::HAS_ALIAS | TypeFlags::HAS_PARAM) {
             return Ok(ty);
         }
-
         match ty.kind() {
             TyKind::Alias(..) => {
                 // First instantiate params.
 }
 
 impl<'db> Filler<'db> {
-    fn new(
-        db: &'db dyn HirDatabase,
-        env: Arc<TraitEnvironment<'db>>,
-        subst: GenericArgs<'db>,
-    ) -> Self {
+    fn new(db: &'db dyn HirDatabase, env: Arc<TraitEnvironment<'db>>, subst: GenericArgs<'db>) -> Self {
         let interner = DbInterner::new_with(db, Some(env.krate), env.block);
         let infcx = interner.infer_ctxt().build(TypingMode::PostAnalysis);
-        Self {
-            infcx,
-            trait_env: env,
-            subst,
-        }
+        Self { infcx, trait_env: env, subst }
     }
 
-    fn fill<T: TypeFoldable<DbInterner<'db>> + Copy>(
-        &mut self,
-        t: &mut T,
-    ) -> Result<(), MirLowerError<'db>> {
+    fn fill<T: TypeFoldable<DbInterner<'db>> + Copy>(&mut self, t: &mut T) -> Result<(), MirLowerError<'db>> {
         // Can't deep normalized as that'll try to normalize consts and fail.
         *t = t.try_fold_with(self)?;
         if references_non_lt_error(t) {
-            Err(MirLowerError::NotSupported(
-                "monomorphization resulted in errors".to_owned(),
-            ))
+            Err(MirLowerError::NotSupported("monomorphization resulted in errors".to_owned()))
         } else {
             Ok(())
         }
     }
 }
 
-pub fn monomorphized_mir_body_query<'db>(
-    db: &'db dyn HirDatabase,
-    owner: DefWithBodyId,
-    subst: GenericArgs<'db>,
-    trait_env: Arc<crate::TraitEnvironment<'db>>,
-) -> Result<Arc<MirBody<'db>>, MirLowerError<'db>> {
+pub fn monomorphized_mir_body_query<'db>(db: &'db dyn HirDatabase, owner: DefWithBodyId, subst: GenericArgs<'db>, trait_env: Arc<crate::TraitEnvironment<'db>>) -> Result<Arc<MirBody<'db>>, MirLowerError<'db>> {
     let mut filler = Filler::new(db, trait_env, subst);
     let body = db.mir_body(owner)?;
     let mut body = (*body).clone();
     Ok(Arc::new(body))
 }
 
-pub(crate) fn monomorphized_mir_body_cycle_result<'db>(
-    _db: &'db dyn HirDatabase,
-    _: DefWithBodyId,
-    _: GenericArgs<'db>,
-    _: Arc<crate::TraitEnvironment<'db>>,
-) -> Result<Arc<MirBody<'db>>, MirLowerError<'db>> {
+pub(crate) fn monomorphized_mir_body_cycle_result<'db>(_db: &'db dyn HirDatabase, _: DefWithBodyId, _: GenericArgs<'db>, _: Arc<crate::TraitEnvironment<'db>>) -> Result<Arc<MirBody<'db>>, MirLowerError<'db>> {
     Err(MirLowerError::Loop)
 }
 
-pub fn monomorphized_mir_body_for_closure_query<'db>(
-    db: &'db dyn HirDatabase,
-    closure: InternedClosureId,
-    subst: GenericArgs<'db>,
-    trait_env: Arc<crate::TraitEnvironment<'db>>,
-) -> Result<Arc<MirBody<'db>>, MirLowerError<'db>> {
+pub fn monomorphized_mir_body_for_closure_query<'db>(db: &'db dyn HirDatabase, closure: InternedClosureId, subst: GenericArgs<'db>, trait_env: Arc<crate::TraitEnvironment<'db>>) -> Result<Arc<MirBody<'db>>, MirLowerError<'db>> {
     let mut filler = Filler::new(db, trait_env, subst);
     let body = db.mir_body_for_closure(closure)?;
     let mut body = (*body).clone();