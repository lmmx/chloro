COMPARISON DIFF
============================================================

Original size: 17397 bytes
Chloro size:   17150 bytes
Rustfmt size:  17397 bytes

âœ— Outputs DIFFER

--- DIFF (- rustfmt, + chloro) ---
 //! asterism: A tree-sitter document section editor.
 #![allow(clippy::multiple_crate_versions)]
-
 use asterism::{app_state, config, edit_plan, formats, input, ui};
 use clap::Parser;
 use edtui::EditorEventHandler;
 #[command(name = "asterism")]
 #[command(about = "Hyperbolic navigation for tree data", long_about = None)]
 struct Args {
-    /// Files or directories to edit
     #[arg(value_name = "PATH")]
     paths: Vec<PathBuf>,
-
-    /// Load edit plan from JSON file
     #[arg(long)]
     load_docs: Option<PathBuf>,
-
-    /// File extensions to match
     #[arg(long, short = 'e', value_name = "EXT")]
     ext: Vec<String>,
-
-    /// Parse difftastic JSON output (from stdin or file)
     #[arg(long, short = 'd')]
     difft: bool,
-
-    /// Read difftastic output from stdin
     #[arg(long)]
     stdin: bool,
 }
 fn main() -> io::Result<()> {
     let args = Args::parse();
     let mut cfg = config::Config::load();
-
     // Override config with command line args
     if !args.ext.is_empty() {
         cfg.file_extensions = args.ext;
     }
-
     // Handle difftastic mode
     if args.difft || args.stdin {
         let json_content = if args.stdin {
         let state = app_state::AppState::new(files, sections, cfg.wrap_width);
         return run_tui(state, &cfg);
     }
-
     // Normal markdown mode
     let documents = input::find_documents(args.paths, &cfg.file_extensions)?;
-
     if documents.is_empty() {
         eprintln!("No matching files found");
         return Ok(());
     }
-
     let format = formats::markdown::MarkdownFormat;
     let mut all_sections = Vec::new();
-
     for doc in &documents {
         if let Ok(sections) = input::extract_sections(doc, &format) {
             all_sections.extend(sections);
         }
     }
-
     if all_sections.is_empty() {
         eprintln!("No sections found in documents");
         return Ok(());
     }
-
     let mut state = app_state::AppState::new(documents, all_sections, cfg.wrap_width);
-
     if let Some(load_path) = args.load_docs {
         let file_content = std::fs::read_to_string(&load_path)?;
         let plan: edit_plan::EditPlan = serde_json::from_str(&file_content)
             .map_err(|e| io::Error::new(io::ErrorKind::InvalidData, e))?;
         state.load_docs(plan);
     }
-
     run_tui(state, &cfg)
 }
 
     execute!(stdout, EnterAlternateScreen)?;
     let backend = CrosstermBackend::new(stdout);
     let mut terminal = Terminal::new(backend)?;
-
     let mut editor_handler = EditorEventHandler::default();
-
     let result = run_app(&mut terminal, &mut app, cfg, &mut editor_handler);
-
     disable_raw_mode()?;
     execute!(terminal.backend_mut(), LeaveAlternateScreen)?;
     terminal.show_cursor()?;
-
     if let Err(e) = result {
         eprintln!("Error: {e}");
     } else {
         let json = serde_json::to_string_pretty(&plan).map_err(io::Error::other)?;
         println!("{json}");
     }
-
     Ok(())
 }
 
 #[allow(clippy::too_many_lines)]
-fn run_app<B: ratatui::backend::Backend>(
-    terminal: &mut Terminal<B>,
-    app: &mut app_state::AppState,
-    cfg: &config::Config,
-    editor_handler: &mut EditorEventHandler,
-) -> io::Result<()> {
+fn run_app<B: ratatui::backend::Backend>(terminal: &mut Terminal<B>, app: &mut app_state::AppState, cfg: &config::Config, editor_handler: &mut EditorEventHandler) -> io::Result<()> {
     loop {
         terminal.draw(|f| ui::draw(f, app, cfg))?;
 