COMPARISON DIFF
============================================================

Original size: 18992 bytes
Chloro size:   19069 bytes
Rustfmt size:  19179 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
     test_db::TestDB,
 };
 
-use super::{interpret_mir, MirEvalError};
+use super::{MirEvalError, interpret_mir};
 
 fn eval_main(db: &TestDB, file_id: EditionedFileId) -> Result<(String, String), MirEvalError<'_>> {
-    crate::attach_db(db, || {
+    crate::attach_db(
+        db,
+        || {
         let interner = DbInterner::new_with(db, None, None);
         let module_id = db.module_for_file(file_id.file_id(db));
         let def_map = module_id.def_map(db);
             .declarations()
             .find_map(|x| match x {
                 hir_def::ModuleDefId::FunctionId(x) => {
-                    if db
-                        .function_signature(x)
-                        .name
-                        .display(db, Edition::CURRENT)
-                        .to_string()
+                    if db.function_signature(x).name.display(db, Edition::CURRENT).to_string()
                         == "main"
                     {
                         Some(x)
         let (result, output) = interpret_mir(db, body, false, None)?;
         result?;
         Ok((output.stdout().into_owned(), output.stderr().into_owned()))
-    })
+    },
+    )
 }
 
 fn check_pass(#[rust_analyzer::rust_fixture] ra_fixture: &str) {
 ) {
     let _tracing = setup_tracing();
     let (db, file_ids) = TestDB::with_many_files(ra_fixture);
-    crate::attach_db(&db, || {
+    crate::attach_db(
+        &db,
+        || {
         let file_id = *file_ids.last().unwrap();
         let x = eval_main(&db, file_id);
         match x {
                 assert_eq!(stderr, expected_stderr);
             }
         }
-    })
+    },
+    )
 }
 
 fn check_panic(#[rust_analyzer::rust_fixture] ra_fixture: &str, expected_panic: &str) {
     let (db, file_ids) = TestDB::with_many_files(ra_fixture);
-    crate::attach_db(&db, || {
+    crate::attach_db(
+        &db,
+        || {
         let file_id = *file_ids.last().unwrap();
         let e = eval_main(&db, file_id).unwrap_err();
         assert_eq!(
-            e.is_panic()
-                .unwrap_or_else(|| panic!("unexpected error: {e:?}")),
+            e.is_panic().unwrap_or_else(|| panic!("unexpected error: {e:?}")),
             expected_panic
         );
-    })
+    },
+    )
 }
 
 fn check_error_with(
     expect_err: impl FnOnce(MirEvalError<'_>) -> bool,
 ) {
     let (db, file_ids) = TestDB::with_many_files(ra_fixture);
-    crate::attach_db(&db, || {
+    crate::attach_db(
+        &db,
+        || {
         let file_id = *file_ids.last().unwrap();
         let e = eval_main(&db, file_id).unwrap_err();
         assert!(expect_err(e));
-    })
+    },
+    )
 }
 
 #[test]
 
 #[test]
 fn syscalls() {
-    check_pass(
-        r#"
+    check_pass(r#"
 //- minicore: option
 
 extern "C" {
     }
 }
 
-"#,
-    )
+"#)
 }
 
 #[test]
 ) {
 }
 "#,
-        |e| {
-            matches!(
-                e,
-                MirEvalError::MirLowerError(_, MirLowerError::GenericArgNotProvided(..))
-            )
-        },
+        |e| matches!(e, MirEvalError::MirLowerError(_, MirLowerError::GenericArgNotProvided(..))),
     );
 }
 