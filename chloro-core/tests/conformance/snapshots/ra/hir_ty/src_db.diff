COMPARISON DIFF
============================================================

Original size: 13362 bytes
Chloro size:   13372 bytes
Rustfmt size:  13389 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! The home of `HirDatabase`, which is the Salsa database containing all the
 //! type inference-related queries.
 
-use base_db::{target::TargetLoadError, Crate};
+use base_db::{Crate, target::TargetLoadError};
 use hir_def::{
-    db::DefDatabase, hir::ExprId, layout::TargetDataLayout, AdtId, BlockId, CallableDefId,
-    ConstParamId, DefWithBodyId, EnumVariantId, FunctionId, GeneralConstId, GenericDefId, ImplId,
-    LifetimeParamId, LocalFieldId, StaticId, TraitId, TypeAliasId, TypeOrConstParamId, VariantId,
+    AdtId, BlockId, CallableDefId, ConstParamId, DefWithBodyId, EnumVariantId, FunctionId,
+    GeneralConstId, GenericDefId, ImplId, LifetimeParamId, LocalFieldId, StaticId, TraitId,
+    TypeAliasId, TypeOrConstParamId, VariantId, db::DefDatabase, hir::ExprId,
+    layout::TargetDataLayout,
 };
 use hir_expand::name::Name;
 use la_arena::ArenaMap;
 use triomphe::Arc;
 
 use crate::{
+    ImplTraitId, InferenceResult, TraitEnvironment, TyDefId, ValueTyDefId,
     consteval::ConstEvalError,
     dyn_compatibility::DynCompatibilityViolation,
     layout::{Layout, LayoutError},
     method_resolution::{InherentImpls, TraitImpls, TyFingerprint},
     mir::{BorrowckResult, MirBody, MirLowerError},
     next_solver::{Const, EarlyBinder, GenericArgs, PolyFnSig, TraitRef, Ty, VariancesOf},
-    ImplTraitId, InferenceResult, TraitEnvironment, TyDefId, ValueTyDefId,
 };
 
 #[query_group::query_group]
-pub trait HirDatabase: DefDatabase + std::fmt::Debug {
+pub trait HirDatabase {
     #[salsa::invoke(crate::infer::infer_query)]
     #[salsa::cycle(cycle_result = crate::infer::infer_cycle_result)]
     fn infer<'db>(&'db self, def: DefWithBodyId) -> Arc<InferenceResult<'db>>;
 
     #[salsa::invoke(crate::consteval::const_eval_static_query)]
     #[salsa::cycle(cycle_result = crate::consteval::const_eval_static_cycle_result)]
-    fn const_eval_static<'db>(&'db self, def: StaticId) -> Result<Const<'db>, ConstEvalError<'db>>;
+    fn const_eval_static<'db>(
+        &'db self,
+        def: StaticId,
+    ) -> Result<Const<'db>, ConstEvalError<'db>>;
 
     #[salsa::invoke(crate::consteval::const_eval_discriminant_variant)]
     #[salsa::cycle(cycle_result = crate::consteval::const_eval_discriminant_cycle_result)]
     // FIXME: Make this a non-interned query.
     #[salsa::invoke_interned(crate::lower::const_param_ty_with_diagnostics_query)]
     #[salsa::cycle(cycle_result = crate::lower::const_param_ty_with_diagnostics_cycle_result)]
-    fn const_param_ty_with_diagnostics<'db>(&'db self, def: ConstParamId)
-        -> (Ty<'db>, Diagnostics);
+    fn const_param_ty_with_diagnostics<'db>(
+        &'db self,
+        def: ConstParamId,
+    ) -> (Ty<'db>, Diagnostics);
 
     #[salsa::invoke(crate::lower::const_param_ty_query)]
     #[salsa::transparent]
     fn field_types_with_diagnostics<'db>(
         &'db self,
         var: VariantId,
-    ) -> (
-        Arc<ArenaMap<LocalFieldId, EarlyBinder<'db, Ty<'db>>>>,
-        Diagnostics,
-    );
+    ) -> (Arc<ArenaMap<LocalFieldId, EarlyBinder<'db, Ty<'db>>>>, Diagnostics);
 
     #[salsa::invoke(crate::lower::field_types_query)]
     #[salsa::transparent]
 
     #[salsa::invoke(crate::lower::trait_environment_for_body_query)]
     #[salsa::transparent]
-    fn trait_environment_for_body<'db>(&'db self, def: DefWithBodyId)
-        -> Arc<TraitEnvironment<'db>>;
+    fn trait_environment_for_body<'db>(
+        &'db self,
+        def: DefWithBodyId,
+    ) -> Arc<TraitEnvironment<'db>>;
 
     #[salsa::invoke(crate::lower::trait_environment_query)]
     fn trait_environment<'db>(&'db self, def: GenericDefId) -> Arc<TraitEnvironment<'db>>;
 
 #[salsa_macros::interned(no_lifetime, debug, revisions = usize::MAX)]
 #[derive(PartialOrd, Ord)]
-pub struct InternedConstParamId {
-    pub loc: ConstParamId,
-}
+pub struct InternedConstParamId { pub loc: ConstParamId }
 
 #[salsa_macros::interned(no_lifetime, debug, revisions = usize::MAX)]
 #[derive(PartialOrd, Ord)]
-pub struct InternedOpaqueTyId {
-    pub loc: ImplTraitId<'db>,
-}
+pub struct InternedOpaqueTyId { pub loc: ImplTraitId<'db> }
 
 #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash, PartialOrd, Ord)]
 pub struct InternedClosure(pub DefWithBodyId, pub ExprId);
 
 #[salsa_macros::interned(no_lifetime, debug, revisions = usize::MAX)]
 #[derive(PartialOrd, Ord)]
-pub struct InternedClosureId {
-    pub loc: InternedClosure,
-}
+pub struct InternedClosureId { pub loc: InternedClosure }
 
 #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash, PartialOrd, Ord)]
 pub struct InternedCoroutine(pub DefWithBodyId, pub ExprId);
 
 #[salsa_macros::interned(no_lifetime, debug, revisions = usize::MAX)]
 #[derive(PartialOrd, Ord)]
-pub struct InternedCoroutineId {
-    pub loc: InternedCoroutine,
-}
+pub struct InternedCoroutineId { pub loc: InternedCoroutine }