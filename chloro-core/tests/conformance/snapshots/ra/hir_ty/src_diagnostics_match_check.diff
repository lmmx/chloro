COMPARISON DIFF
============================================================

Original size: 15979 bytes
Chloro size:   15838 bytes
Rustfmt size:  15979 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! It is modeled on the rustc module `rustc_mir_build::thir::pattern`.
 
 mod pat_util;
-
 pub(crate) mod pat_analysis;
 
 use hir_def::{
-    AdtId, EnumVariantId, LocalFieldId, Lookup, VariantId,
-    expr_store::{Body, path::Path},
+    expr_store::{path::Path, Body},
     hir::PatId,
     item_tree::FieldsShape,
+    AdtId, EnumVariantId, LocalFieldId, Lookup, VariantId,
 };
 use hir_expand::name::Name;
 use rustc_type_ir::inherent::{IntoKind, SliceLike};
 use stdx::{always, never, variance::PhantomCovariantLifetime};
 
 use crate::{
-    InferenceResult,
     db::HirDatabase,
     display::{HirDisplay, HirDisplayError, HirFormatter},
     infer::BindingMode,
     next_solver::{GenericArgs, Mutability, Ty, TyKind},
+    InferenceResult,
 };
-
 use self::pat_util::EnumerateAndAdjustIterator;
 
 #[derive(Clone, Debug)]
 pub(crate) enum PatKind<'db> {
     Wild,
     Never,
-
     /// `x`, `ref x`, `x @ P`, etc.
     Binding {
         name: Name,
         subpattern: Option<Pat<'db>>,
     },
-
     /// `Foo(...)` or `Foo{...}` or `Foo`, where `Foo` is a variant name from an ADT with
     /// multiple variants.
     Variant {
         enum_variant: EnumVariantId,
         subpatterns: Vec<FieldPat<'db>>,
     },
-
     /// `(...)`, `Foo(...)`, `Foo{...}`, or `Foo`, where `Foo` is a variant name from an ADT with
     /// a single variant.
     Leaf {
         subpatterns: Vec<FieldPat<'db>>,
     },
-
     /// `&P`, `&mut P`, etc.
     Deref {
         subpattern: Pat<'db>,
     },
-
-    // FIXME: for now, only bool literals are implemented
     LiteralBool {
         value: bool,
     },
-
     /// An or-pattern, e.g. `p | q`.
     /// Invariant: `pats.len() >= 2`.
     Or {
     }
 }
 
-struct WriteWith<'db, F>(F, PhantomCovariantLifetime<'db>)
-where
-    F: Fn(&mut HirFormatter<'_, 'db>) -> Result<(), HirDisplayError>;
+struct WriteWith<'db, F>(F, PhantomCovariantLifetime<'db>);
 
 impl<'db, F> WriteWith<'db, F>
 where