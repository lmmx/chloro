COMPARISON DIFF
============================================================

Original size: 6743 bytes
Chloro size:   6742 bytes
Rustfmt size:  6876 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 };
 
 pub trait HasSource {
-    type Value: AstNode;
+    type Value;
+
     fn source(&self, db: &dyn DefDatabase) -> InFile<Self::Value> {
         let InFile { file_id, value } = self.ast_ptr(db);
         InFile::new(file_id, value.to_node(&db.parse_or_expand(file_id)))
     }
+
     fn ast_ptr(&self, db: &dyn DefDatabase) -> InFile<AstPtr<Self::Value>>;
 }
 
     T: AstIdLoc,
 {
     type Value = T::Ast;
+
     fn ast_ptr(&self, db: &dyn DefDatabase) -> InFile<AstPtr<Self::Value>> {
         let id = self.ast_id();
         let ast_id_map = db.ast_id_map(id.file_id);
 
 pub trait HasChildSource<ChildId> {
     type Value;
+
     fn child_source(&self, db: &dyn DefDatabase) -> InFile<ArenaMap<ChildId, Self::Value>>;
 }
 
     let ast_use_tree = ast.use_tree().expect("missing `use_tree`");
     let mut span_map = None;
     crate::item_tree::lower_use_tree(db, ast_use_tree, &mut |range| {
-        span_map
-            .get_or_insert_with(|| db.span_map(use_ast_id.file_id))
-            .span_for_range(range)
-            .ctx
+        span_map.get_or_insert_with(|| db.span_map(use_ast_id.file_id)).span_for_range(range).ctx
     })
     .expect("failed to lower use tree")
     .1
 
 impl HasChildSource<la_arena::Idx<ast::UseTree>> for UseId {
     type Value = ast::UseTree;
+
     fn child_source(
         &self,
         db: &dyn DefDatabase,
     ) -> InFile<ArenaMap<la_arena::Idx<ast::UseTree>, Self::Value>> {
         let loc = self.lookup(db);
-        InFile::new(
-            loc.id.file_id,
-            use_tree_source_map(db, loc.id).into_iter().collect(),
-        )
+        InFile::new(loc.id.file_id, use_tree_source_map(db, loc.id).into_iter().collect())
     }
 }
 
 impl HasChildSource<LocalTypeOrConstParamId> for GenericDefId {
     type Value = Either<ast::TypeOrConstParam, ast::Trait>;
+
     fn child_source(
         &self,
         db: &dyn DefDatabase,
         let mut params = ArenaMap::default();
 
         // For traits and trait aliases the first type index is `Self`, we need to add it before
+
         // the other params.
         match *self {
             GenericDefId::TraitId(id) => {
 
 impl HasChildSource<LocalLifetimeParamId> for GenericDefId {
     type Value = ast::LifetimeParam;
+
     fn child_source(
         &self,
         db: &dyn DefDatabase,
         let (src, container) = match *self {
             VariantId::EnumVariantId(it) => {
                 let lookup = it.lookup(db);
-                (
-                    lookup.source(db).map(|it| it.kind()),
-                    lookup.parent.lookup(db).container,
-                )
+                (lookup.source(db).map(|it| it.kind()), lookup.parent.lookup(db).container)
             }
             VariantId::StructId(it) => {
                 let lookup = it.lookup(db);