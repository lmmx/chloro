COMPARISON DIFF
============================================================

Original size: 5172 bytes
Chloro size:   5106 bytes
Rustfmt size:  5492 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
     Values,
     Macros,
 }
-
-bitflags! {
-    /// Describes only the presence/absence of each namespace, without its value.
-    #[derive(Debug, PartialEq, Eq)]
-    pub(crate) struct NsAvailability : u32 {
-        const TYPES = 1 << 0;
-        const VALUES = 1 << 1;
-        const MACROS = 1 << 2;
-    }
-}
-
+/// Describes only the presence/absence of each namespace, without its value.
 #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
 pub struct Item<Def, Import = ImportId> {
     pub def: Def,
 }
 
 pub type TypesItem = Item<ModuleDefId, ImportOrExternCrate>;
+
 pub type ValuesItem = Item<ModuleDefId, ImportOrGlob>;
-// May be Externcrate for `[macro_use]`'d macros
+
 pub type MacrosItem = Item<MacroId, ImportOrExternCrate>;
 
 #[derive(Clone, Copy, Debug, Default, Eq, Hash, PartialEq)]
         import: Option<ImportOrExternCrate>,
     ) -> PerNs {
         PerNs {
-            types: Some(Item {
-                def: types,
-                vis,
-                import,
-            }),
+            types: Some(Item { def: types, vis, import }),
             values: Some(Item {
                 def: values,
                 vis,
     }
 
     pub fn or_else(self, f: impl FnOnce() -> PerNs) -> PerNs {
-        if self.is_full() {
-            self
-        } else {
-            self.or(f())
-        }
+        if self.is_full() { self } else { self.or(f()) }
     }
 
     pub fn iter_items(self) -> impl Iterator<Item = (ItemInNs, Option<ImportOrExternCrate>)> {
         self.types
             .map(|it| (ItemInNs::Types(it.def), it.import))
             .into_iter()
-            .chain(self.values.map(|it| {
-                (
-                    ItemInNs::Values(it.def),
-                    it.import.map(ImportOrExternCrate::from),
-                )
-            }))
+            .chain(
+                self.values
+                    .map(|it| (ItemInNs::Values(it.def), it.import.map(ImportOrExternCrate::from))),
+            )
             .chain(self.macros.map(|it| (ItemInNs::Macros(it.def), it.import)))
     }
 }