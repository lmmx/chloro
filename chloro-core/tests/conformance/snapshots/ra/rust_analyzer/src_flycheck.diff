COMPARISON DIFF
============================================================

Original size: 31299 bytes
Chloro size:   31351 bytes
Rustfmt size:  31299 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 };
 
 use cargo_metadata::PackageId;
-use crossbeam_channel::{Receiver, Sender, select_biased, unbounded};
+pub(crate) use cargo_metadata::diagnostic::{
+    Applicability, Diagnostic, DiagnosticCode, DiagnosticLevel, DiagnosticSpan,
+};
+use crossbeam_channel::{select_biased, unbounded, Receiver, Sender};
 use ide_db::FxHashSet;
 use itertools::Itertools;
 use paths::{AbsPath, AbsPathBuf, Utf8Path, Utf8PathBuf};
 use rustc_hash::FxHashMap;
 use serde::Deserialize as _;
 use serde_derive::Deserialize;
-
-pub(crate) use cargo_metadata::diagnostic::{
-    Applicability, Diagnostic, DiagnosticCode, DiagnosticLevel, DiagnosticSpan,
-};
 use toolchain::Tool;
 use triomphe::Arc;
 
                     .iter()
                     .map(|arg| if arg == SAVED_FILE_PLACEHOLDER { "..." } else { arg })
                     .collect::<Vec<_>>();
-
                 write!(f, "{command} {}", display_args.join(" "))
             }
         }
     },
 
     /// Request clearing all outdated diagnostics.
-    ClearDiagnostics { id: usize, kind: ClearDiagnosticsKind },
+    ClearDiagnostics {
+        id: usize,
+        kind: ClearDiagnosticsKind,
+    },
 
     /// Request check progress notification to client
     Progress {
 
 enum FlycheckScope {
     Workspace,
-    Package { package: Arc<PackageId>, workspace_deps: Option<FxHashSet<Arc<PackageId>>> },
+    Package {
+        package: Arc<PackageId>,
+        workspace_deps: Option<FxHashSet<Arc<PackageId>>>,
+    },
 }
 
 enum StateChange {
 struct FlycheckActor {
     /// The workspace id of this flycheck instance.
     id: usize,
-
     generation: DiagnosticsGeneration,
     sender: Sender<FlycheckMessage>,
     config: FlycheckConfig,
                 }
                 cmd.env("CARGO_LOG", "cargo::core::compiler::fingerprint=info");
                 cmd.arg(command);
-
                 match scope {
                     FlycheckScope::Workspace => cmd.arg("--workspace"),
                     FlycheckScope::Package { package, .. } => cmd.arg("-p").arg(&package.repr),
                 };
-
                 if let Some(tgt) = target {
                     match tgt {
                         Target::Bin(tgt) => cmd.arg("--bin").arg(tgt),
                         Target::Benchmark(tgt) => cmd.arg("--bench").arg(tgt),
                     };
                 }
-
                 cmd.arg(if *ansi_color_output {
                     "--message-format=json-diagnostic-rendered-ansi"
                 } else {
                     "--message-format=json"
                 });
-
                 if let Some(manifest_path) = &self.manifest_path {
                     cmd.arg("--manifest-path");
                     cmd.arg(manifest_path);
                         cmd.arg("-Zscript");
                     }
                 }
-
                 cmd.arg("--keep-going");
-
                 options.apply_on_command(
                     &mut cmd,
                     self.ws_target_dir.as_ref().map(Utf8PathBuf::as_path),
                 Some(cmd)
             }
             FlycheckConfig::CustomCommand { command, args, extra_env, invocation_strategy } => {
+                // If the custom command has a $saved_file placeholder, and
+                // we're saving a file, replace the placeholder in the arguments.
                 let root = match invocation_strategy {
                     InvocationStrategy::Once => &*self.root,
                     InvocationStrategy::PerWorkspace => {
                     }
                 };
                 let mut cmd = toolchain::command(command, root, extra_env);
-
-                // If the custom command has a $saved_file placeholder, and
-                // we're saving a file, replace the placeholder in the arguments.
                 if let Some(saved_file) = saved_file {
                     for arg in args {
                         if arg == SAVED_FILE_PLACEHOLDER {
                         cmd.arg(arg);
                     }
                 }
-
                 Some(cmd)
             }
         }
 #[allow(clippy::large_enum_variant)]
 enum CargoCheckMessage {
     CompilerArtifact(cargo_metadata::Artifact),
-    Diagnostic { diagnostic: Diagnostic, package_id: Option<Arc<PackageId>> },
+    Diagnostic {
+        diagnostic: Diagnostic,
+        package_id: Option<Arc<PackageId>>,
+    },
 }
 
 struct CargoCheckParser;