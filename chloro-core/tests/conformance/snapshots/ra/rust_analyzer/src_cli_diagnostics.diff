COMPARISON DIFF
============================================================

Original size: 5110 bytes
Chloro size:   5111 bytes
Rustfmt size:  5354 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! Analyze all modules in a project for diagnostics. Exits with a non-zero
 //! status code if any errors are found.
 
 use project_model::{CargoConfig, RustLibSource};
 use rustc_hash::FxHashSet;
 
-use hir::{db::HirDatabase, sym, Crate, Module};
+use hir::{Crate, Module, db::HirDatabase, sym};
 use ide::{AnalysisHost, AssistResolveStrategy, Diagnostic, DiagnosticsConfig, Severity};
-use ide_db::{base_db::SourceDatabase, LineIndexDatabase};
-use load_cargo::{load_workspace_at, LoadCargoConfig, ProcMacroServerChoice};
+use ide_db::{LineIndexDatabase, base_db::SourceDatabase};
+use load_cargo::{LoadCargoConfig, ProcMacroServerChoice, load_workspace_at};
 
 use crate::cli::{flags, progress_report::ProgressReport};
 
 
         handle.join()
     }
+
     fn run_(self) -> anyhow::Result<()> {
         let cargo_config = CargoConfig {
             sysroot: Some(RustLibSource::Discover),
             if !visited_files.contains(&file_id) {
                 let message = format!("processing {}", _vfs.file_path(file_id.file_id(db)));
                 bar.set_message(move || message.clone());
-                let crate_name = module
-                    .krate()
-                    .display_name(db)
-                    .as_deref()
-                    .unwrap_or(&sym::unknown)
-                    .to_owned();
+                let crate_name =
+                    module.krate().display_name(db).as_deref().unwrap_or(&sym::unknown).to_owned();
                 for diagnostic in analysis
                     .full_diagnostics(
                         &DiagnosticsConfig::test_sample(),
                         found_error = true;
                     }
 
-                    let Diagnostic {
-                        code,
-                        message,
-                        range,
-                        severity,
-                        ..
-                    } = diagnostic;
+                    let Diagnostic { code, message, range, severity, .. } = diagnostic;
                     let line_index = db.line_index(range.file_id);
                     let start = line_index.line_col(range.range.start());
                     let end = line_index.line_col(range.range.end());
 }
 
 fn all_modules(db: &dyn HirDatabase) -> Vec<Module> {
-    let mut worklist: Vec<_> = Crate::all(db)
-        .into_iter()
-        .map(|krate| krate.root_module())
-        .collect();
+    let mut worklist: Vec<_> =
+        Crate::all(db).into_iter().map(|krate| krate.root_module()).collect();
     let mut modules = Vec::new();
 
     while let Some(module) = worklist.pop() {