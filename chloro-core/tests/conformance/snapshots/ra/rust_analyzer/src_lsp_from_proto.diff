COMPARISON DIFF
============================================================

Original size: 5855 bytes
Chloro size:   5864 bytes
Rustfmt size:  5985 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! Conversion lsp_types types to rust-analyzer specific ones.
+
 use anyhow::format_err;
 use ide::{Annotation, AnnotationKind, AssistKind, LineCol};
-use ide_db::{line_index::WideLineCol, FileId, FilePosition, FileRange};
+use ide_db::{FileId, FilePosition, FileRange, line_index::WideLineCol};
 use paths::Utf8PathBuf;
 use syntax::{TextRange, TextSize};
 use vfs::AbsPathBuf;
 };
 
 pub(crate) fn abs_path(url: &lsp_types::Url) -> anyhow::Result<AbsPathBuf> {
-    let path = url
-        .to_file_path()
-        .map_err(|()| anyhow::format_err!("url is not a file"))?;
+    let path = url.to_file_path().map_err(|()| anyhow::format_err!("url is not a file"))?;
     Ok(AbsPathBuf::try_from(Utf8PathBuf::from_path_buf(path).unwrap()).unwrap())
 }
 
     position: lsp_types::Position,
 ) -> anyhow::Result<TextSize> {
     let line_col = match line_index.encoding {
-        PositionEncoding::Utf8 => LineCol {
-            line: position.line,
-            col: position.character,
-        },
+        PositionEncoding::Utf8 => LineCol { line: position.line, col: position.character },
         PositionEncoding::Wide(enc) => {
-            let line_col = WideLineCol {
-                line: position.line,
-                col: position.character,
-            };
+            let line_col = WideLineCol { line: position.line, col: position.character };
             line_index
                 .index
                 .to_utf8(enc, line_col)
         }
     };
     let line_range = line_index.index.line(line_col.line).ok_or_else(|| {
-        format_err!(
-            "Invalid offset {line_col:?} (line index length: {:?})",
-            line_index.index.len()
-        )
+        format_err!("Invalid offset {line_col:?} (line index length: {:?})", line_index.index.len())
     })?;
     let col = TextSize::from(line_col.col);
     let clamped_len = col.min(line_range.len());
             let pos @ FilePosition { file_id, .. } =
                 try_default!(file_position(snap, params.text_document_position_params)?);
             let line_index = snap.file_line_index(file_id)?;
-
             Ok(Annotation {
                 range: text_range(&line_index, range)?,
                 kind: AnnotationKind::HasImpls { pos, data: None },
             }
             let pos @ FilePosition { file_id, .. } = try_default!(file_position(snap, params)?);
             let line_index = snap.file_line_index(file_id)?;
-
             Ok(Annotation {
                 range: text_range(&line_index, range)?,
                 kind: AnnotationKind::HasReferences { pos, data: None },
             })
         }
-    }
-    .map(Some)
+    }.map(
+        Some,
+    )
 }