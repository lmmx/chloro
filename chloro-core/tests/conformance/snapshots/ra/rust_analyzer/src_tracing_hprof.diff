COMPARISON DIFF
============================================================

Original size: 7455 bytes
Chloro size:   7465 bytes
Rustfmt size:  7718 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
         let (write_filter, allowed_names) = WriteFilter::from_spec(spec);
 
         // this filter the first pass for `tracing`: these are all the "profiling" spans, but things like
+
         // span depth or duration are not filtered here: that only occurs at write time.
         let profile_filter = filter::filter_fn(move |metadata| {
             let allowed = match &allowed_names {
                 && !metadata.target().starts_with("chalk")
         });
 
-        Self {
-            aggregate: true,
-            write_filter,
-            _inner: PhantomData,
-        }
-        .with_filter(profile_filter)
+        Self { aggregate: true, write_filter, _inner: PhantomData }.with_filter(profile_filter)
     }
 }
 
 
 impl Data {
     fn new(attrs: &Attributes<'_>) -> Self {
-        let mut data = Self {
-            start: Instant::now(),
-            children: Vec::new(),
-            fields: String::new(),
-        };
+        let mut data = Self { start: Instant::now(), children: Vec::new(), fields: String::new() };
 
-        let mut visitor = DataVisitor {
-            string: &mut data.fields,
-        };
+        let mut visitor = DataVisitor { string: &mut data.fields };
         attrs.record(&mut visitor);
         data
     }
         span.extensions_mut().insert(data);
     }
 
-    fn on_event(&self, _event: &Event<'_>, _ctx: Context<'_, S>) {}
+    fn on_event(&self, _event: &Event<'_>, _ctx: Context<'_, S>) {
+    }
 
     fn on_close(&self, id: Id, ctx: Context<'_, S>) {
         let span = ctx.span(&id).unwrap();
 
         match span.parent() {
             Some(parent_span) => {
-                parent_span
-                    .extensions_mut()
-                    .get_mut::<Data>()
-                    .unwrap()
-                    .children
-                    .push(node);
+                parent_span.extensions_mut().get_mut::<Data>().unwrap().children.push(node);
             }
             None => {
                 if self.aggregate {
 impl WriteFilter {
     pub(crate) fn from_spec(mut spec: &str) -> (WriteFilter, Option<FxHashSet<String>>) {
         let longer_than = if let Some(idx) = spec.rfind('>') {
-            let longer_than = spec[idx + 1..]
-                .parse()
-                .expect("invalid profile longer_than");
+            let longer_than = spec[idx + 1..].parse().expect("invalid profile longer_than");
             spec = &spec[..idx];
             Duration::from_millis(longer_than)
         } else {