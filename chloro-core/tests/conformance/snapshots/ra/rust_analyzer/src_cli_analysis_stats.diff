COMPARISON DIFF
============================================================

Original size: 58546 bytes
Chloro size:   58178 bytes
Rustfmt size:  58546 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! Fully type-check project and print various stats, like the number of type
 //! errors.
 
 use std::{
     env, fmt,
     ops::AddAssign,
-    panic::{AssertUnwindSafe, catch_unwind},
+    panic::{catch_unwind, AssertUnwindSafe},
     time::{SystemTime, UNIX_EPOCH},
 };
 
 use cfg::{CfgAtom, CfgDiff};
 use hir::{
-    Adt, AssocItem, Crate, DefWithBody, FindPathConfig, HasCrate, HasSource, HirDisplay, ModuleDef,
-    Name,
     db::{DefDatabase, ExpandDatabase, HirDatabase},
     next_solver::{DbInterner, GenericArgs},
+    Adt, AssocItem, Crate, DefWithBody, FindPathConfig, HasCrate, HasSource, HirDisplay, ModuleDef,
+    Name,
 };
 use hir_def::{
-    SyntheticSyntax,
     expr_store::BodySourceMap,
     hir::{ExprId, PatId},
+    SyntheticSyntax,
 };
 use ide::{
     Analysis, AnalysisHost, AnnotationConfig, DiagnosticsConfig, Edition, InlayFieldsToResolve,
     InlayHintsConfig, LineCol, RootDatabase,
 };
 use ide_db::{
+    base_db::{salsa::Database, SourceDatabase},
     EditionedFileId, LineIndexDatabase, MiniCore, SnippetCap,
-    base_db::{SourceDatabase, salsa::Database},
 };
 use itertools::Itertools;
 use load_cargo::{LoadCargoConfig, ProcMacroServerChoice, load_workspace};
 use vfs::{AbsPathBuf, Vfs, VfsPath};
 
 use crate::cli::{
-    Verbosity,
     flags::{self, OutputFormat},
     full_name_of_item, print_memory_usage,
     progress_report::ProgressReport,
-    report_metric,
+    report_metric, Verbosity,
 };
 
 impl flags::AnalysisStats {
             UsizeWithUnderscore(dep_item_trees),
         );
         eprintln!("  dependency item stats: {dep_item_stats}");
-
         // FIXME(salsa-transition): bring back stats for ParseQuery (file size)
         // and ParseMacroExpansionQuery (macro expansion "file") size whenever we implement
         // Salsa's memory usage tracking works with tracked functions.
-
         // let mut total_file_size = Bytes::default();
         // for e in ide_db::base_db::ParseQuery.in_db(db).entries::<Vec<_>>() {
         //     total_file_size += syntax_len(db.parse(e.key).syntax_node())
         // }
-
         // let mut total_macro_file_size = Bytes::default();
         // for e in hir::db::ParseMacroExpansionQuery.in_db(db).entries::<Vec<_>>() {
         //     let val = db.parse_macro_expansion(e.key).value.0;
         eprintln!("{:<20} {} ({} files)", "IDE:", ide_time, file_ids.len());
     }
 
-    fn should_process(&self, db: &RootDatabase, body_id: DefWithBody, module: hir::Module) -> bool {
+    fn should_process(
+        &self,
+        db: &RootDatabase,
+        body_id: DefWithBody,
+        module: hir::Module,
+    ) -> bool {
         if let Some(only_name) = self.only.as_deref() {
             let name = body_id.name(db).unwrap_or_else(Name::missing);
 
         None
     }
 }
+
 fn pat_syntax_range<'a>(
     db: &RootDatabase,
     vfs: &'a Vfs,
         )
     }
 }
-
-// FIXME(salsa-transition): bring this back whenever we implement
-// Salsa's memory usage tracking to work with tracked functions.
-// fn syntax_len(node: SyntaxNode) -> usize {
-//     // Macro expanded code doesn't contain whitespace, so erase *all* whitespace
-//     // to make macro and non-macro code comparable.
-//     node.to_string().replace(|it: char| it.is_ascii_whitespace(), "").len()
-// }