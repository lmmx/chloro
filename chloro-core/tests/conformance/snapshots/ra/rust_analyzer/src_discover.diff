COMPARISON DIFF
============================================================

Original size: 5655 bytes
Chloro size:   5691 bytes
Rustfmt size:  5830 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! Infrastructure for lazy project discovery. Currently only support rust-project.json discovery
 //! via a custom discover command.
+
 use std::{io, path::Path};
 
 use crossbeam_channel::Sender;
 #[derive(PartialEq, Clone, Debug, Serialize)]
 #[serde(rename_all = "camelCase")]
 pub(crate) enum DiscoverArgument {
-    Path(#[serde(serialize_with = "serialize_abs_pathbuf")] AbsPathBuf),
-    Buildfile(#[serde(serialize_with = "serialize_abs_pathbuf")] AbsPathBuf),
+    Path(AbsPathBuf),
+    Buildfile(AbsPathBuf),
 }
 
 fn serialize_abs_pathbuf<S>(path: &AbsPathBuf, se: S) -> Result<S::Ok, S::Error>
         let mut cmd = toolchain::command(command, current_dir, &FxHashMap::default());
         cmd.args(args);
 
-        Ok(DiscoverHandle {
+        Ok(
+            DiscoverHandle {
             _handle: CommandHandle::spawn(cmd, DiscoverProjectParser, self.sender.clone(), None)?,
             span: info_span!("discover_command").entered(),
-        })
+        },
+        )
     }
 }
 
 #[derive(Debug)]
 pub(crate) struct DiscoverHandle {
     _handle: CommandHandle<DiscoverProjectMessage>,
-    #[allow(dead_code)] // not accessed, but used to log on drop.
+    // not accessed, but used to log on drop.
+    #[allow(dead_code)]
     span: EnteredSpan,
 }
 
 impl DiscoverProjectMessage {
     fn new(data: DiscoverProjectData) -> Self {
         match data {
-            DiscoverProjectData::Finished {
-                project, buildfile, ..
-            } => {
+            DiscoverProjectData::Finished { project, buildfile, .. } => {
                 let buildfile = buildfile.try_into().expect("Unable to make path absolute");
                 DiscoverProjectMessage::Finished { project, buildfile }
             }
                 Some(msg)
             }
             Err(err) => {
-                let err = DiscoverProjectData::Error {
-                    error: format!("{err:#?}\n{line}"),
-                    source: None,
-                };
+                let err =
+                    DiscoverProjectData::Error { error: format!("{err:#?}\n{line}"), source: None };
                 Some(DiscoverProjectMessage::new(err))
             }
         }