COMPARISON DIFF
============================================================

Original size: 41840 bytes
Chloro size:   41747 bytes
Rustfmt size:  41840 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! correct. Instead, we try to provide a best-effort service. Even if the
 //! project is currently loading and we don't have a full project model, we
 //! still want to respond to various  requests.
-// FIXME: This is a mess that needs some untangling work
+
 use std::{iter, mem};
 
 use hir::{ChangeWithProcMacros, ProcMacrosBuilder, db::DefDatabase};
 use ide_db::{
+    base_db::{salsa::Durability, CrateGraphBuilder, ProcMacroLoadingError, ProcMacroPaths},
     FxHashMap,
-    base_db::{CrateGraphBuilder, ProcMacroLoadingError, ProcMacroPaths, salsa::Durability},
 };
 use itertools::Itertools;
 use load_cargo::{ProjectFolders, load_proc_macro};
 use proc_macro_api::ProcMacroClient;
 use project_model::{ManifestPath, ProjectWorkspace, ProjectWorkspaceKind, WorkspaceBuildScripts};
 use stdx::{format_to, thread::ThreadIntent};
+use tracing::{debug, info};
 use triomphe::Arc;
 use vfs::{AbsPath, AbsPathBuf, ChangeKind};
 
     main_loop::{DiscoverProjectParam, Task},
     op_queue::Cause,
 };
-use tracing::{debug, info};
 
 #[derive(Debug)]
 pub(crate) enum ProjectWorkspaceProgress {
             None,
             None,
         );
-
         // crate graph construction relies on these paths, record them so when one of them gets
         // deleted or created we trigger a reconstruction of the crate graph
+
         self.crate_graph_file_dependencies.clear();
         self.detached_files = self
             .workspaces
     }
 }
 
-// FIXME: Move this into load-cargo?
 pub fn ws_to_crate_graph(
     workspaces: &[ProjectWorkspace],
     extra_env: &FxHashMap<String, Option<String>>,
     if change_kind == ChangeKind::Modify {
         return false;
     }
-
     // .cargo/config{.toml}
+
     if path.extension().unwrap_or_default() != "rs" {
         let is_cargo_config = matches!(file_name, "config.toml" | "config")
             && path.parent().map(|parent| parent.as_str().ends_with(".cargo")).unwrap_or(false);