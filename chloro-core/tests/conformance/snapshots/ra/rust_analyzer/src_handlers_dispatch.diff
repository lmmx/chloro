COMPARISON DIFF
============================================================

Original size: 15570 bytes
Chloro size:   15262 bytes
Rustfmt size:  15570 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! See [RequestDispatcher].
+
 use std::{
     fmt::{self, Debug},
     panic, thread,
 };
 
 use ide_db::base_db::{
-    DbPanicContext,
     salsa::{self, Cancelled},
+    DbPanicContext,
 };
 use lsp_server::{ExtractError, Response, ResponseError};
-use serde::{Serialize, de::DeserializeOwned};
+use serde::{de::DeserializeOwned, Serialize};
 use stdx::thread::ThreadIntent;
 
 use crate::{
             }
             return self;
         }
-        self.on_with_thread_intent::<false, ALLOW_RETRYING, R>(
-            ThreadIntent::Worker,
-            f,
-            Self::content_modified_error,
-        )
+        self.on_with_thread_intent(ThreadIntent::Worker, f, Self::content_modified_error)
     }
 
     /// Dispatches a non-latency-sensitive request onto the thread pool. When the VFS is marked not
             }
             return self;
         }
-        self.on_with_thread_intent::<false, false, R>(ThreadIntent::Worker, f, on_cancelled)
+        self.on_with_thread_intent(ThreadIntent::Worker, f, on_cancelled)
     }
 
     /// Dispatches a non-latency-sensitive request onto the thread pool. When the VFS is marked not
             }
             return self;
         }
-        self.on_with_thread_intent::<false, ALLOW_RETRYING, R>(
-            ThreadIntent::Worker,
-            f,
-            Self::content_modified_error,
-        )
+        self.on_with_thread_intent(ThreadIntent::Worker, f, Self::content_modified_error)
     }
 
     /// Dispatches a latency-sensitive request onto the thread pool. When the VFS is marked not
             }
             return self;
         }
-        self.on_with_thread_intent::<false, ALLOW_RETRYING, R>(
-            ThreadIntent::LatencySensitive,
-            f,
-            Self::content_modified_error,
-        )
+        self.on_with_thread_intent(ThreadIntent::LatencySensitive, f, Self::content_modified_error)
     }
 
     /// Formatting requests should never block on waiting a for task thread to open up, editors will wait
         R::Params: DeserializeOwned + panic::UnwindSafe + Send + fmt::Debug,
         R::Result: Serialize,
     {
-        self.on_with_thread_intent::<true, false, R>(
-            ThreadIntent::LatencySensitive,
-            f,
-            Self::content_modified_error,
-        )
+        self.on_with_thread_intent(ThreadIntent::LatencySensitive, f, Self::content_modified_error)
     }
 
     pub(crate) fn finish(&mut self) {