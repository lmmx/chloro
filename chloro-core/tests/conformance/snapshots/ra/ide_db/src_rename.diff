COMPARISON DIFF
============================================================

Original size: 29385 bytes
Chloro size:   29413 bytes
Rustfmt size:  29385 bytes

✗ Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //!
 //! The correct behavior in such cases is probably to show a dialog to the user.
 //! Our current behavior is ¯\_(ツ)_/¯.
+
 use std::fmt::{self, Display};
 
-use crate::{
-    source_change::ChangeAnnotation,
-    text_edit::{TextEdit, TextEditBuilder},
-};
 use base_db::AnchoredPathBuf;
 use either::Either;
-use hir::{FieldSource, FileRange, InFile, ModuleSource, Name, Semantics, sym};
+use hir::{sym, FieldSource, FileRange, InFile, ModuleSource, Name, Semantics};
 use span::{Edition, FileId, SyntaxContext};
-use stdx::{TupleExt, never};
+use stdx::{never, TupleExt};
 use syntax::{
-    AstNode, SyntaxKind, T, TextRange,
     ast::{self, HasName},
+    AstNode, SyntaxKind, TextRange, T,
 };
+pub use _bail as bail;
+pub use _format_err as format_err;
 
 use crate::{
-    RootDatabase,
     defs::Definition,
     search::{FileReference, FileReferenceNode},
     source_change::{FileSystemEdit, SourceChange},
     syntax_helpers::node_ext::expr_as_name_ref,
     traits::convert_to_def_in_trait,
+    RootDatabase,
+};
+use crate::{
+    source_change::ChangeAnnotation,
+    text_edit::{TextEdit, TextEditBuilder},
 };
 
 pub type Result<T, E = RenameError> = std::result::Result<T, E>;
     ($fmt:expr) => { RenameError(format!($fmt)) };
     ($fmt:expr, $($arg:tt)+) => { RenameError(format!($fmt, $($arg)+)) }
 }
-pub use _format_err as format_err;
 
 #[macro_export]
 macro_rules! _bail {
     ($($tokens:tt)*) => { return Err(format_err!($($tokens)*)) }
 }
-pub use _bail as bail;
 
 #[derive(Copy, Clone, Debug, PartialEq, Eq)]
 pub enum RenameDefinition {
 
     let def = Definition::Module(module);
     let usages = def.usages(sema).all();
-    let ref_edits = usages.iter().map(|(file_id, references)| {
+    let ref_edits = usages
+        .iter()
+        .map(|(file_id, references)| {
         let edition = file_id.edition(sema.db);
         (
             file_id.file_id(sema.db),
         bail!("Cannot rename reference to `_` as it is being referenced multiple times");
     }
     let mut source_change = SourceChange::default();
-    source_change.extend(usages.iter().map(|(file_id, references)| {
+    source_change
+        .extend(usages.iter().map(|(file_id, references)| {
         let edition = file_id.edition(sema.db);
         (
             file_id.file_id(sema.db),