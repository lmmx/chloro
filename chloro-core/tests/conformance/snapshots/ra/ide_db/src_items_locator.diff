COMPARISON DIFF
============================================================

Original size: 5844 bytes
Chloro size:   5816 bytes
Rustfmt size:  5887 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! This module has the functionality to search the project and its dependencies for a certain item,
 //! by its name and a few criteria.
 //! The main reason for this module to exist is the fact that project's items and dependencies' items
 //! are located in different caches, with different APIs.
+
 use std::ops::ControlFlow;
 
 use either::Either;
 
 pub use import_map::AssocSearchMode;
 
-// FIXME: Do callbacks instead to avoid allocations.
 /// Searches for importable items with the given name in the crate and its dependencies.
 pub fn items_with_name(
     db: &RootDatabase,
     local_query.search(
         &[SymbolIndex::module_symbols(db, module)],
         |local_candidate| {
-            cb(match local_candidate.def {
-                hir::ModuleDef::Macro(macro_def) => ItemInNs::Macros(macro_def),
-                def => ItemInNs::from(def),
-            })
-        },
+        cb(match local_candidate.def {
+            hir::ModuleDef::Macro(macro_def) => ItemInNs::Macros(macro_def),
+            def => ItemInNs::from(def),
+        })
+    },
     )
 }
 
     let _p = tracing::info_span!("find_items").entered();
 
     // NOTE: `external_query` includes `assoc_item_search`, so we don't need to
+
     // filter on our own.
     let external_importables = krate.query_external_importables(db, external_query).map(
         |(external_importable, do_not_complete)| {