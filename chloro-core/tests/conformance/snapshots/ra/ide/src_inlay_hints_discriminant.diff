COMPARISON DIFF
============================================================

Original size: 5687 bytes
Chloro size:   5687 bytes
Rustfmt size:  5814 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! Implementation of "enum variant discriminant" inlay hints:
 //! ```no_run
 //! enum Foo {
 //!    Bar/* = 0*/,
 //! }
 //! ```
+
 use hir::Semantics;
 use ide_db::text_edit::TextEdit;
-use ide_db::{famous_defs::FamousDefs, RootDatabase};
+use ide_db::{RootDatabase, famous_defs::FamousDefs};
 use syntax::ast::{self, AstNode, HasName};
 
 use crate::{
     if let DiscriminantHints::Never = config.discriminant_hints {
         return None;
     }
-
     let def = sema.to_def(&enum_)?;
     let data_carrying = def.is_data_carrying(sema.db);
     if matches!(config.discriminant_hints, DiscriminantHints::Fieldless) && data_carrying {
     if variant.expr().is_some() {
         return None;
     }
-
     let eq_token = variant.eq_token();
     let name = variant.name()?;
-
     let descended = sema.descend_node_into_attributes(variant.clone()).pop();
     let desc_pat = descended.as_ref().unwrap_or(variant);
     let v = sema.to_def(desc_pat)?;
     let d = v.eval(sema.db);
-
     let range = match variant.field_list() {
-        Some(field_list) => name
-            .syntax()
-            .text_range()
-            .cover(field_list.syntax().text_range()),
+        Some(field_list) => name.syntax().text_range().cover(field_list.syntax().text_range()),
         None => name.syntax().text_range(),
     };
     let eq_ = if eq_token.is_none() { " =" } else { "" };
         pad_right: false,
         resolve_parent: Some(enum_.syntax().text_range()),
     });
-
     Some(())
 }
+
 #[cfg(test)]
 mod tests {
     use expect_test::expect;
-
     use crate::inlay_hints::{
-        tests::{check_edit, check_with_config, DISABLED_CONFIG},
+        check_edit, check_with_config},
+
+        tests::{DISABLED_CONFIG,
+
         DiscriminantHints, InlayHintsConfig,
     };
-
     #[track_caller]
     fn check_discriminants(#[rust_analyzer::rust_fixture] ra_fixture: &str) {
         check_with_config(
-            InlayHintsConfig {
-                discriminant_hints: DiscriminantHints::Always,
-                ..DISABLED_CONFIG
-            },
+            InlayHintsConfig { discriminant_hints: DiscriminantHints::Always, ..DISABLED_CONFIG },
             ra_fixture,
         );
     }
-
     #[track_caller]
     fn check_discriminants_fieldless(#[rust_analyzer::rust_fixture] ra_fixture: &str) {
         check_with_config(
             ra_fixture,
         );
     }
-
     #[test]
     fn fieldless() {
         check_discriminants(
 "#,
         );
     }
-
     #[test]
     fn datacarrying_mixed() {
         check_discriminants(
 "#,
         );
     }
-
     #[test]
     fn datacarrying_mixed_fieldless_set() {
         check_discriminants_fieldless(
 "#,
         );
     }
-
     #[test]
     fn edit() {
         check_edit(
-            InlayHintsConfig {
-                discriminant_hints: DiscriminantHints::Always,
-                ..DISABLED_CONFIG
-            },
+            InlayHintsConfig { discriminant_hints: DiscriminantHints::Always, ..DISABLED_CONFIG },
             r#"
 #[repr(u8)]
 enum Enum {