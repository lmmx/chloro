COMPARISON DIFF
============================================================

Original size: 25435 bytes
Chloro size:   24802 bytes
Rustfmt size:  25435 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 mod render;
-
 #[cfg(test)]
 mod tests;
 
 
 use either::Either;
 use hir::{
-    DisplayTarget, GenericDef, GenericSubstitution, HasCrate, HasSource, LangItem, Semantics,
-    db::DefDatabase,
+    db::DefDatabase, DisplayTarget, GenericDef, GenericSubstitution, HasCrate, HasSource, LangItem,
+    Semantics,
 };
 use ide_db::{
-    FileRange, FxIndexSet, MiniCore, Ranker, RootDatabase,
     defs::{Definition, IdentClass, NameRefClass, OperatorClass},
     famous_defs::FamousDefs,
     helpers::pick_best_token,
     ra_fixture::UpmapFromRaFixture,
+    FileRange, FxIndexSet, MiniCore, Ranker, RootDatabase,
 };
-use itertools::{Itertools, multizip};
+use itertools::{multizip, Itertools};
 use macros::UpmapFromRaFixture;
 use span::{Edition, TextRange};
 use syntax::{
-    AstNode, AstToken,
+    ast, AstNode, AstToken,
     SyntaxKind::{self, *},
-    SyntaxNode, T, ast,
+    SyntaxNode, T,
 };
 
 use crate::{
-    Analysis, FileId, FilePosition, NavigationTarget, RangeInfo, Runnable, TryToNav,
     doc_links::token_as_doc_comment,
     markdown_remove::remove_markdown,
     markup::Markup,
     navigation_target::UpmappingResult,
     runnables::{runnable_fn, runnable_mod},
+    Analysis, FileId, FilePosition, NavigationTarget, RangeInfo, Runnable, TryToNav,
 };
 
 #[derive(Clone, Debug)]
     pub actions: Vec<HoverAction>,
 }
 
-// Feature: Hover
-//
-// Shows additional information, like the type of an expression or the documentation for a definition when "focusing" code.
-// Focusing is usually hovering with a mouse, but can also be triggered with a shortcut.
-//
-// ![Hover](https://user-images.githubusercontent.com/48062697/113020658-b5f98b80-917a-11eb-9f88-3dbc27320c95.gif)
 pub(crate) fn hover(
     db: &RootDatabase,
     frange @ FileRange { file_id, range }: FileRange,
     }
 
     // prefer descending the same token kind in attribute expansions, in normal macros text
+
     // equivalency is more important
     let mut descended = sema.descend_into_macros(original_token.clone());
 
         }
     }
 
-    res.into_iter()
-        .unique()
-        .reduce(|mut acc: HoverResult, HoverResult { markup, actions }| {
-            acc.actions.extend(actions);
-            acc.markup = Markup::from(format!("{}\n\n---\n{markup}", acc.markup));
-            acc
-        })
-        .map(|mut res: HoverResult| {
-            res.actions = dedupe_or_merge_hover_actions(res.actions);
-            RangeInfo::new(original_token.text_range(), res)
-        })
+    res.into_iter().unique().reduce(|mut acc: HoverResult, HoverResult { markup, actions }| {
+        acc.actions.extend(actions);
+        acc.markup = Markup::from(format!("{}\n\n---\n{markup}", acc.markup));
+        acc
+    }).map(|mut res: HoverResult| {
+        res.actions = dedupe_or_merge_hover_actions(res.actions);
+        RangeInfo::new(original_token.text_range(), res)
+    })
 }
 
 fn hover_ranged(
     })
 }
 
-// FIXME: Why is this pub(crate)?
 pub(crate) fn hover_for_definition(
     sema: &Semantics<'_, RootDatabase>,
     file_id: FileId,
             show_implementations_action(sema, def),
             runnable_action(sema, def, file_id),
             goto_type_action_for_def(sema, def, &notable_traits, subst_types, edition),
-        ]
-        .into_iter()
-        .flatten()
-        .collect(),
+        ].into_iter(
+        ).flatten(
+        ).collect(
+        ),
     }
 }
 
         return Vec::new();
     }
 
-    db.notable_traits_in_deps(ty.krate(db).into())
-        .iter()
-        .flat_map(|it| &**it)
-        .filter_map(move |&trait_| {
-            let trait_ = trait_.into();
-            ty.impls_trait(db, trait_, &[]).then(|| {
-                (
-                    trait_,
-                    trait_
-                        .items(db)
-                        .into_iter()
-                        .filter_map(hir::AssocItem::as_type_alias)
-                        .map(|alias| {
-                            (ty.normalize_trait_assoc_type(db, &[], alias), alias.name(db))
-                        })
-                        .collect::<Vec<_>>(),
-                )
-            })
+    db.notable_traits_in_deps(ty.krate(db).into()).iter().flat_map(|it| &**it).filter_map(move |&trait_| {
+        let trait_ = trait_.into();
+        ty.impls_trait(db, trait_, &[]).then(|| {
+            (
+                trait_,
+                trait_.items(db).into_iter().filter_map(hir::AssocItem::as_type_alias).map(|alias| {
+                (ty.normalize_trait_assoc_type(db, &[], alias), alias.name(db))
+            }).collect::<Vec<_>>(
+            ),
+            )
         })
-        .sorted_by_cached_key(|(trait_, _)| trait_.name(db))
-        .collect::<Vec<_>>()
+    }).sorted_by_cached_key(
+        |(trait_, _)| trait_.name(db),
+    ).collect::<Vec<_>>(
+    )
 }
 
 fn show_implementations_action(
                     offset: nav_target.focus_or_full_range().start(),
                 })
             })
-        }
+        },
         _ => None,
     }
 }
                 cov_mark::hit!(hover_macro_generated_struct_fn_doc_attr);
                 return None;
             }
-
             runnable_fn(sema, func).map(HoverAction::Runnable)
-        }
+        },
         _ => None,
     }
 }