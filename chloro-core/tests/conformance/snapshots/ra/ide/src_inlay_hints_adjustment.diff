COMPARISON DIFF
============================================================

Original size: 23884 bytes
Chloro size:   23670 bytes
Rustfmt size:  23884 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 //! Implementation of "adjustment" inlay hints:
 //! ```no_run
 //! let _: u32  = /* <never-to-any> */ loop {};
 //! let _: &u32 = /* &* */ &mut 0;
 //! ```
+
 use std::ops::Not;
 
 use either::Either;
         }
         PreferPrefix | PreferPostfix => {
             let prefer_postfix = matches!(mode, PreferPostfix);
-
             let (pre_inside, pre_outside) = needs_parens_for_adjustment_hints(expr, false);
             let prefix = (false, pre_inside, pre_outside);
             let pre_count = pre_inside as u8 + pre_outside as u8;
-
             let (post_inside, post_outside) = needs_parens_for_adjustment_hints(expr, true);
             let postfix = (true, post_inside, post_outside);
             let post_count = post_inside as u8 + post_outside as u8;
-
             match pre_count.cmp(&post_count) {
                 Less => prefix,
                 Greater => postfix,
 fn needs_parens_for_adjustment_hints(expr: &ast::Expr, postfix: bool) -> (bool, bool) {
     let prec = expr.precedence();
     if postfix {
-        let needs_inner_parens = prec.needs_parentheses_in(ExprPrecedence::Postfix);
         // given we are the higher precedence, no parent expression will have stronger requirements
+        let needs_inner_parens = prec.needs_parentheses_in(ExprPrecedence::Postfix);
         let needs_outer_parens = false;
         (needs_outer_parens, needs_inner_parens)
     } else {
+        // if we have no parent, we don't need outer parens to disambiguate
+        // otherwise anything with higher precedence than what we insert needs to wrap us
         let needs_inner_parens = prec.needs_parentheses_in(ExprPrecedence::Prefix);
         let parent = expr
             .syntax()
             .filter(|it| !matches!(it, ast::Expr::ParenExpr(_)))
             .map(|it| it.precedence())
             .filter(|&prec| prec != ExprPrecedence::Unambiguous);
-
-        // if we have no parent, we don't need outer parens to disambiguate
-        // otherwise anything with higher precedence than what we insert needs to wrap us
         let needs_outer_parens = parent
             .is_some_and(|parent_prec| ExprPrecedence::Prefix.needs_parentheses_in(parent_prec));
         (needs_outer_parens, needs_inner_parens)
 mod tests {
     use crate::{
         AdjustmentHints, AdjustmentHintsMode, InlayHintsConfig,
-        inlay_hints::tests::{DISABLED_CONFIG, check_with_config},
+        inlay_hints::tests::{check_with_config, DISABLED_CONFIG},
     };
-
     #[test]
     fn adjustment_hints_prefix() {
         check_with_config(
 "#,
         );
     }
-
     #[test]
     fn adjustment_hints_postfix() {
         check_with_config(
 "#,
         );
     }
-
     #[test]
     fn adjustment_hints_prefer_prefix() {
         check_with_config(
             InlayHintsConfig {
-                adjustment_hints: AdjustmentHints::Always,
-                adjustment_hints_mode: AdjustmentHintsMode::PreferPrefix,
-                ..DISABLED_CONFIG
-            },
+            adjustment_hints: AdjustmentHints::Always,
+            adjustment_hints_mode: AdjustmentHintsMode::PreferPrefix,
+        },
             r#"
 fn main() {
     let _: u32         = loop {};
             "#,
         )
     }
-
     #[test]
     fn adjustment_hints_prefer_postfix() {
         check_with_config(
             InlayHintsConfig {
-                adjustment_hints: AdjustmentHints::Always,
-                adjustment_hints_mode: AdjustmentHintsMode::PreferPostfix,
-                ..DISABLED_CONFIG
-            },
+            adjustment_hints: AdjustmentHints::Always,
+            adjustment_hints_mode: AdjustmentHintsMode::PreferPostfix,
+        },
             r#"
 fn main() {
     let _: u32         = loop {};
             "#,
         )
     }
-
     #[test]
     fn never_to_never_is_never_shown() {
         cov_mark::check!(same_type_adjustment);
             "#,
         )
     }
-
     #[test]
     fn adjustment_hints_unsafe_only() {
         check_with_config(
             InlayHintsConfig {
-                adjustment_hints: AdjustmentHints::Always,
-                adjustment_hints_hide_outside_unsafe: true,
-                ..DISABLED_CONFIG
-            },
+            adjustment_hints: AdjustmentHints::Always,
+            adjustment_hints_hide_outside_unsafe: true,
+        },
             r#"
 unsafe fn enabled() {
     f(&&());
             "#,
         )
     }
-
     #[test]
     fn adjustment_hints_unsafe_only_with_item() {
         check_with_config(
             "#,
         );
     }
-
     #[test]
     fn let_stmt_explicit_ty() {
         check_with_config(
             "#,
         )
     }
-
-    // regression test for a stackoverflow in hir display code
     #[test]
     fn adjustment_hints_method_call_on_impl_trait_self() {
         check_with_config(
 "#,
         );
     }
-
     #[test]
     fn disable_reborrows() {
         check_with_config(