COMPARISON DIFF
============================================================

Original size: 6466 bytes
Chloro size:   6217 bytes
Rustfmt size:  6466 bytes

âœ— Outputs DIFFER

--- DIFF (- rustfmt, + chloro) ---
 use syntax::ast::{self, AstNode, HasGenericParams, HasName};
 
 use crate::{AssistContext, AssistId, Assists};
 
-// Assist: add_lifetime_to_type
-//
-// Adds a new lifetime to a struct, enum or union.
-//
-// ```
-// struct Point {
-//     x: &$0u32,
-//     y: u32,
-// }
-// ```
-// ->
-// ```
-// struct Point<'a> {
-//     x: &'a u32,
-//     y: u32,
-// }
-// ```
-pub(crate) fn add_lifetime_to_type(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {
+pub(crate) fn add_lifetime_to_type(
+    acc: &mut Assists,
+    ctx: &AssistContext<'_>,
+) -> Option<()> {
     let ref_type_focused = ctx.find_node_at_offset::<ast::RefType>()?;
     if ref_type_focused.lifetime().is_some() {
         return None;
     }
-
     let node = ctx.find_node_at_offset::<ast::Adt>()?;
     let has_lifetime = node
         .generic_param_list()
         .is_some_and(|gen_list| gen_list.lifetime_params().next().is_some());
-
     if has_lifetime {
         return None;
     }
-
     let ref_types = fetch_borrowed_types(&node)?;
     let target = node.syntax().text_range();
-
     acc.add(AssistId::generate("add_lifetime_to_type"), "Add lifetime", target, |builder| {
         match node.generic_param_list() {
             Some(gen_param) => {
                 .collect()
         }
     };
-
     if ref_types.is_empty() { None } else { Some(ref_types) }
 }
 
             })
             .collect(),
     };
-
     if ref_types.is_empty() { None } else { Some(ref_types) }
 }
 
 #[cfg(test)]
 mod tests {
     use crate::tests::{check_assist, check_assist_not_applicable};
-
     use super::*;
-
     #[test]
     fn add_lifetime_to_struct() {
         check_assist(
             r#"struct Foo { a: &$0i32 }"#,
             r#"struct Foo<'a> { a: &'a i32 }"#,
         );
-
         check_assist(
             add_lifetime_to_type,
             r#"struct Foo { a: &$0i32, b: &usize }"#,
             r#"struct Foo<'a> { a: &'a i32, b: &'a usize }"#,
         );
-
         check_assist(
             add_lifetime_to_type,
             r#"struct Foo { a: &$0i32, b: usize }"#,
             r#"struct Foo<'a> { a: &'a i32, b: usize }"#,
         );
-
         check_assist(
             add_lifetime_to_type,
             r#"struct Foo<T> { a: &$0T, b: usize }"#,
             r#"struct Foo<'a, T> { a: &'a T, b: usize }"#,
         );
-
         check_assist_not_applicable(add_lifetime_to_type, r#"struct Foo<'a> { a: &$0'a i32 }"#);
         check_assist_not_applicable(add_lifetime_to_type, r#"struct Foo { a: &'a$0 i32 }"#);
     }
-
     #[test]
     fn add_lifetime_to_enum() {
         check_assist(
             r#"enum Foo { Bar { a: i32 }, Other, Tuple(u32, &$0u32)}"#,
             r#"enum Foo<'a> { Bar { a: i32 }, Other, Tuple(u32, &'a u32)}"#,
         );
-
         check_assist(
             add_lifetime_to_type,
             r#"enum Foo { Bar { a: &$0i32 }}"#,
             r#"enum Foo<'a> { Bar { a: &'a i32 }}"#,
         );
-
         check_assist(
             add_lifetime_to_type,
             r#"enum Foo<T> { Bar { a: &$0i32, b: &T }}"#,
             r#"enum Foo<'a, T> { Bar { a: &'a i32, b: &'a T }}"#,
         );
-
         check_assist_not_applicable(
             add_lifetime_to_type,
             r#"enum Foo<'a> { Bar { a: &$0'a i32 }}"#,
         );
         check_assist_not_applicable(add_lifetime_to_type, r#"enum Foo { Bar, $0Misc }"#);
     }
-
     #[test]
     fn add_lifetime_to_union() {
         check_assist(
             r#"union Foo { a: &$0i32 }"#,
             r#"union Foo<'a> { a: &'a i32 }"#,
         );
-
         check_assist(
             add_lifetime_to_type,
             r#"union Foo { a: &$0i32, b: &usize }"#,
             r#"union Foo<'a> { a: &'a i32, b: &'a usize }"#,
         );
-
         check_assist(
             add_lifetime_to_type,
             r#"union Foo<T> { a: &$0T, b: usize }"#,
             r#"union Foo<'a, T> { a: &'a T, b: usize }"#,
         );
-
         check_assist_not_applicable(add_lifetime_to_type, r#"struct Foo<'a> { a: &'a $0i32 }"#);
     }
 }