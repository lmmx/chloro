COMPARISON DIFF
============================================================

Original size: 22391 bytes
Chloro size:   22018 bytes
Rustfmt size:  22391 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
     AstNode,
     SyntaxKind::{CLOSURE_EXPR, FN, FOR_EXPR, LOOP_EXPR, WHILE_EXPR, WHITESPACE},
     SyntaxNode, T,
-    ast::{
-        self,
-        edit::{AstNodeEdit, IndentLevel},
-        make,
-    },
+    ast::{self, edit::{AstNodeEdit, IndentLevel}, make},
 };
 
 use crate::{
     utils::{invert_boolean_expression_legacy, is_never_block},
 };
 
-// Assist: convert_to_guarded_return
-//
-// Replace a large conditional with a guarded return.
-//
-// ```
-// fn main() {
-//     $0if cond {
-//         foo();
-//         bar();
-//     }
-// }
-// ```
-// ->
-// ```
-// fn main() {
-//     if !cond {
-//         return;
-//     }
-//     foo();
-//     bar();
-// }
-// ```
 pub(crate) fn convert_to_guarded_return(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {
     match ctx.find_node_at_offset::<Either<ast::LetStmt, ast::IfExpr>>()? {
         Either::Left(let_stmt) => let_stmt_to_guarded_return(let_stmt, acc, ctx),
     }
 
     // check for early return and continue
+
     if is_early_block(&then_block) || is_never_block(&ctx.sema, &then_branch) {
         return None;
     }
 fn clean_stmt_block(block: &ast::BlockExpr) -> ast::BlockExpr {
     if block.statements().next().is_none()
         && let Some(tail_expr) = block.tail_expr()
-        && block.modifier().is_none()
-    {
+        && block.modifier().is_none() {
         make::block_expr(once(make::expr_stmt(tail_expr).into()), None)
     } else {
         block.clone()
 #[cfg(test)]
 mod tests {
     use crate::tests::{check_assist, check_assist_not_applicable};
-
     use super::*;
-
     #[test]
     fn convert_inside_fn() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_inside_fn_return_option() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_inside_closure() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_inside_fn() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_if_let_result() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_if_let_has_never_type_else_block() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_if_let_result_inside_let() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_if_let_chain_result() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_ok_inside_fn() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_mut_ok_inside_fn() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_ref_ok_inside_fn() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_inside_while() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_inside_while() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_inside_loop() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_inside_loop() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_inside_for() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_stmt_inside_fn() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_stmt_inside_fn_return_option() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_let_stmt_inside_loop() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn convert_arbitrary_if_let_patterns() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn ignore_already_converted_if() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_already_converted_loop() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_return() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_else_branch() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_let_else_branch() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_statements_after_if() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_statements_inside_if() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_inside_if_stmt() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn ignore_inside_let_initializer() {
         check_assist_not_applicable(