COMPARISON DIFF
============================================================

Original size: 49350 bytes
Chloro size:   48164 bytes
Rustfmt size:  49350 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 use std::iter::successors;
 
 use ide_db::{RootDatabase, defs::NameClass, ty_filter::TryEnum};
 use syntax::{
     AstNode, Edition, SyntaxKind, T, TextRange,
-    ast::{self, HasName, edit::IndentLevel, edit_in_place::Indent, syntax_factory::SyntaxFactory},
+    ast::{self, HasName, edit_in_place::Indent, edit::IndentLevel, syntax_factory::SyntaxFactory},
     syntax_editor::SyntaxEditor,
 };
 
     utils::{does_pat_match_variant, does_pat_variant_nested_or_literal, unwrap_trivial_block},
 };
 
-// Assist: replace_if_let_with_match
-//
-// Replaces a `if let` expression with a `match` expression.
-//
-// ```
-// enum Action { Move { distance: u32 }, Stop }
-//
-// fn handle(action: Action) {
-//     $0if let Action::Move { distance } = action {
-//         foo(distance)
-//     } else {
-//         bar()
-//     }
-// }
-// ```
-// ->
-// ```
-// enum Action { Move { distance: u32 }, Stop }
-//
-// fn handle(action: Action) {
-//     match action {
-//         Action::Move { distance } => foo(distance),
-//         _ => bar(),
-//     }
-// }
-// ```
 pub(crate) fn replace_if_let_with_match(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {
     let if_expr: ast::IfExpr = ctx.find_node_at_offset()?;
     let available_range = TextRange::new(
     make.match_arm(pattern, None, expr)
 }
 
-// Assist: replace_match_with_if_let
-//
-// Replaces a binary `match` with a wildcard pattern with an `if let` expression.
-//
-// ```
-// enum Action { Move { distance: u32 }, Stop }
-//
-// fn handle(action: Action) {
-//     $0match action {
-//         Action::Move { distance } => foo(distance),
-//         _ => bar(),
-//     }
-// }
-// ```
-// ->
-// ```
-// enum Action { Move { distance: u32 }, Stop }
-//
-// fn handle(action: Action) {
-//     if let Action::Move { distance } = action {
-//         foo(distance)
-//     } else {
-//         bar()
-//     }
-// }
-// ```
 pub(crate) fn replace_match_with_if_let(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {
     let match_expr: ast::MatchExpr = ctx.find_node_at_offset()?;
     let match_arm_list = match_expr.match_arm_list()?;
 }
 
 fn let_and_guard(cond: &ast::Expr) -> (Option<ast::LetExpr>, Option<ast::Expr>) {
-    if let ast::Expr::ParenExpr(expr) = cond
-        && let Some(sub_expr) = expr.expr()
-    {
+    if let ast::Expr::ParenExpr(expr) = cond && let Some(sub_expr) = expr.expr() {
         let_and_guard(&sub_expr)
     } else if let ast::Expr::LetExpr(let_expr) = cond {
         (Some(let_expr.clone()), None)
-    } else if let ast::Expr::BinExpr(bin_expr) = cond
-        && let Some(ast::Expr::LetExpr(let_expr)) = and_bin_expr_left(bin_expr).lhs()
-    {
+    } else if let ast::Expr::BinExpr(bin_expr) = cond && let Some(ast::Expr::LetExpr(let_expr)) = and_bin_expr_left(bin_expr).lhs() {
         let new_expr = bin_expr.clone_subtree();
         let mut edit = SyntaxEditor::new(new_expr.syntax().clone());
-
         let left_bin = and_bin_expr_left(&new_expr);
         if let Some(rhs) = left_bin.rhs() {
             edit.replace(left_bin.syntax(), rhs.syntax());
             }
             edit.delete(left_bin.syntax());
         }
-
         let new_expr = edit.finish().new_root().clone();
         (Some(let_expr), ast::Expr::cast(new_expr))
     } else {
 }
 
 fn and_bin_expr_left(expr: &ast::BinExpr) -> ast::BinExpr {
-    if expr.op_kind() == Some(ast::BinaryOp::LogicOp(ast::LogicOp::And))
-        && let Some(ast::Expr::BinExpr(left)) = expr.lhs()
-    {
+    if expr.op_kind() == Some(ast::BinaryOp::LogicOp(ast::LogicOp::And)) && let Some(ast::Expr::BinExpr(left)) = expr.lhs() {
         and_bin_expr_left(&left)
     } else {
         expr.clone()
 #[cfg(test)]
 mod tests {
     use super::*;
-
     use crate::tests::{check_assist, check_assist_not_applicable, check_assist_target};
-
     #[test]
     fn test_if_let_with_match_inapplicable_for_simple_ifs() {
         check_assist_not_applicable(
 "#,
         )
     }
-
     #[test]
     fn test_if_with_match_no_else() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_if_with_match_with_else() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_if_with_match_comments() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_if_let_with_match_no_else() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_if_let_with_match_available_range_left() {
         check_assist_not_applicable(
 "#,
         )
     }
-
     #[test]
     fn test_if_let_with_match_available_range_right() {
         check_assist_not_applicable(
 "#,
         )
     }
-
     #[test]
     fn test_if_let_with_match_let_chain() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_let_chain_no_else() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_basic() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_if_let_with_match_on_tail_if_let() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn special_case_option() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn special_case_inverted_option() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn special_case_result() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn special_case_inverted_result() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn nested_indent() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_if_let_with_match_nested_tuple_struct() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_slice() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_literal() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_tuple() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_or() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_range() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_paren() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_macro() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_path() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_record() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_if_let_with_match_nested_ident() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn test_replace_match_with_if_let_unwraps_simple_expressions() {
         check_assist(
 }           "#,
         )
     }
-
     #[test]
     fn test_replace_match_with_if_let_doesnt_unwrap_multiline_expressions() {
         check_assist(
 }           "#,
         )
     }
-
     #[test]
     fn replace_match_with_if_let_target() {
         check_assist_target(
         }"#,
         );
     }
-
     #[test]
     fn special_case_option_match_to_if_let() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn special_case_result_match_to_if_let() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn nested_indent_match_to_if_let() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn replace_match_with_if_let_empty_wildcard_expr() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn replace_match_with_if_let_number_body() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn replace_match_with_if_let_exhaustive() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn replace_match_with_if_let_prefer_name_bind() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn replace_match_with_if_let_prefer_nonempty_body() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn replace_match_with_if_let_rejects_double_name_bindings() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn test_replace_match_with_if_let_keeps_unsafe_block() {
         check_assist(
 }           "#,
         )
     }
-
     #[test]
     fn test_replace_match_with_if_let_forces_else() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_replace_match_with_if_bool() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_replace_match_with_if_let_chain() {
         check_assist(
 "#,
         )
     }
-
     #[test]
     fn test_replace_match_with_if_let_not_applicable_pat2_is_ident_pat() {
         check_assist_not_applicable(