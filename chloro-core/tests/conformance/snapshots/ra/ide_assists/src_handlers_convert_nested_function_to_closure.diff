COMPARISON DIFF
============================================================

Original size: 5052 bytes
Chloro size:   4557 bytes
Rustfmt size:  5151 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 use ide_db::assists::AssistId;
 use syntax::ast::{self, HasGenericParams, HasName};
 use syntax::{AstNode, SyntaxKind};
 
 use crate::assist_context::{AssistContext, Assists};
 
-// Assist: convert_nested_function_to_closure
-//
-// Converts a function that is defined within the body of another function into a closure.
-//
-// ```
-// fn main() {
-//     fn fo$0o(label: &str, number: u64) {
-//         println!("{}: {}", label, number);
-//     }
-//
-//     foo("Bar", 100);
-// }
-// ```
-// ->
-// ```
-// fn main() {
-//     let foo = |label: &str, number: u64| {
-//         println!("{}: {}", label, number);
-//     };
-//
-//     foo("Bar", 100);
-// }
-// ```
 pub(crate) fn convert_nested_function_to_closure(
     acc: &mut Assists,
     ctx: &AssistContext<'_>,
 
 /// Returns whether the given function is nested within the body of another function.
 fn is_nested_function(function: &ast::Fn) -> bool {
-    function
-        .syntax()
-        .ancestors()
-        .skip(1)
-        .find_map(ast::Item::cast)
-        .is_some_and(|it| {
-            matches!(
-                it,
-                ast::Item::Fn(_) | ast::Item::Static(_) | ast::Item::Const(_)
-            )
-        })
+    function.syntax().ancestors().skip(1).find_map(ast::Item::cast).is_some_and(|it| {
+        matches!(it, ast::Item::Fn(_) | ast::Item::Static(_) | ast::Item::Const(_))
+    })
 }
 
 /// Returns whether the given nested function has generic parameters.
 /// - `const` or
 /// - `unsafe`
 fn has_modifiers(function: &ast::Fn) -> bool {
-    function.async_token().is_some()
-        || function.const_token().is_some()
-        || function.unsafe_token().is_some()
+    function.async_token().is_some() || function.const_token().is_some() || function.unsafe_token().is_some()
 }
 
 /// Returns whether the given nested function has a trailing semicolon.
 #[cfg(test)]
 mod tests {
     use crate::tests::{check_assist, check_assist_not_applicable};
-
     use super::convert_nested_function_to_closure;
-
     #[test]
     fn convert_nested_function_to_closure_works() {
         check_assist(
             "#,
         );
     }
-
     #[test]
     fn convert_nested_function_to_closure_works_with_existing_semicolon() {
         check_assist(
             "#,
         );
     }
-
     #[test]
     fn convert_nested_function_to_closure_is_not_suggested_on_top_level_function() {
         check_assist_not_applicable(
             "#,
         );
     }
-
     #[test]
     fn convert_nested_function_to_closure_is_not_suggested_when_cursor_off_name() {
         check_assist_not_applicable(
             "#,
         );
     }
-
     #[test]
     fn convert_nested_function_to_closure_is_not_suggested_if_function_has_generic_params() {
         check_assist_not_applicable(
             "#,
         );
     }
-
     #[test]
     fn convert_nested_function_to_closure_is_not_suggested_if_function_has_modifier() {
         check_assist_not_applicable(