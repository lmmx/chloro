COMPARISON DIFF
============================================================

Original size: 33414 bytes
Chloro size:   32353 bytes
Rustfmt size:  33414 bytes

âœ— Outputs DIFFER

=== DIFF (- rustfmt, + chloro) ===
 use hir::{AsAssocItem, HasVisibility, ModuleDef, Visibility};
 use ide_db::assists::AssistId;
 use itertools::Itertools;
 use stdx::{format_to, to_lower_snake_case};
 use syntax::{
-    AstNode, AstToken, Edition,
     algo::skip_whitespace_token,
-    ast::{self, HasDocComments, HasGenericArgs, HasName, edit::IndentLevel},
-    match_ast,
+    ast::{self, edit::IndentLevel, HasDocComments, HasGenericArgs, HasName},
+    match_ast, AstNode, AstToken, Edition,
 };
 
 use crate::assist_context::{AssistContext, Assists};
 
-// Assist: generate_documentation_template
-//
-// Adds a documentation template above a function definition / declaration.
-//
-// ```
-// pub struct S;
-// impl S {
-//     pub unsafe fn set_len$0(&mut self, len: usize) -> Result<(), std::io::Error> {
-//         /* ... */
-//     }
-// }
-// ```
-// ->
-// ```
-// pub struct S;
-// impl S {
-//     /// Sets the length of this [`S`].
-//     ///
-//     /// # Errors
-//     ///
-//     /// This function will return an error if .
-//     ///
-//     /// # Safety
-//     ///
-//     /// .
-//     pub unsafe fn set_len(&mut self, len: usize) -> Result<(), std::io::Error> {
-//         /* ... */
-//     }
-// }
-// ```
 pub(crate) fn generate_documentation_template(
     acc: &mut Assists,
     ctx: &AssistContext<'_>,
     )
 }
 
-// Assist: generate_doc_example
-//
-// Generates a rustdoc example when editing an item's documentation.
-//
-// ```
-// /// Adds two numbers.$0
-// pub fn add(a: i32, b: i32) -> i32 { a + b }
-// ```
-// ->
-// ```
-// /// Adds two numbers.
-// ///
-// /// # Examples
-// ///
-// /// ```
-// /// use ra_test_fixture::add;
-// ///
-// /// assert_eq!(add(a, b), );
-// /// ```
-// pub fn add(a: i32, b: i32) -> i32 { a + b }
-// ```
 pub(crate) fn generate_doc_example(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {
     let tok: ast::Comment = ctx.find_token_at_offset()?;
     let node = tok.syntax().parent()?;
-    let last_doc_token =
-        ast::AnyHasDocComments::cast(node.clone())?.doc_comments().last()?.syntax().clone();
+    let last_doc_token = ast::AnyHasDocComments::cast(node.clone())?.doc_comments().last()?.syntax().clone();
     let next_token = skip_whitespace_token(last_doc_token.next_token()?, syntax::Direction::Next)?;
 
     let example = match_ast! {
         _ => return None,
     };
     let mut name = path_segment.name_ref()?.to_string();
-    let generics = path_segment.generic_arg_list().into_iter().flat_map(|list| {
+    let generics = path_segment
+        .generic_arg_list()
+        .into_iter()
+        .flat_map(|list| {
         list.generic_args()
             .filter(|generic| matches!(generic, ast::GenericArg::TypeArg(_)))
             .map(|generic| generic.to_string())
 
 /// Helper function to build the comma-separated list of arguments of the function
 fn arguments_from_params(param_list: &ast::ParamList) -> String {
-    let args_iter = param_list.params().map(|param| match param.pat() {
+    let args_iter = param_list
+        .params()
+        .map(|param| match param.pat() {
         // To avoid `mut` in the function call (which would be a nonsense), `Pat` should not be
         // written as is so its variants must be managed independently. Other variants (for
         // instance `TuplePat`) could be managed later.
 #[cfg(test)]
 mod tests {
     use crate::tests::{check_assist, check_assist_not_applicable};
-
     use super::*;
-
     #[test]
     fn not_applicable_on_function_calls() {
         check_assist_not_applicable(
 "#,
         )
     }
-
     #[test]
     fn not_applicable_in_trait_impl() {
         check_assist_not_applicable(
 "#,
         )
     }
-
     #[test]
     fn not_applicable_if_function_already_documented() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn supports_noop_function() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn is_applicable_if_function_is_private() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn no_doc_example_for_private_fn() {
         check_assist_not_applicable(
 "#,
         );
     }
-
     #[test]
     fn supports_a_parameter() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn detects_unsafe_function() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn guesses_panic_macro_can_panic() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn guesses_debug_assert_macro_cannot_panic() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn guesses_assert_macro_can_panic() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn guesses_assert_eq_macro_can_panic() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn guesses_unwrap_can_panic() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn guesses_expect_can_panic() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn checks_output_in_example() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn detects_result_output() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn checks_ref_mut_in_example() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn stores_result_if_at_least_3_params() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn supports_fn_in_mods() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn supports_fn_in_impl() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn supports_unsafe_fn_in_trait() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn supports_fn_in_trait_with_default_panicking() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn supports_fn_in_trait_returning_result() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn detects_new() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn removes_one_lifetime_from_description() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn removes_all_lifetimes_from_description() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn removes_all_lifetimes_and_brackets_from_description() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn detects_new_with_self() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn supports_method_call() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn checks_modified_self_param() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn generates_intro_for_getters() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn no_getter_intro_for_prefixed_methods() {
         check_assist(
 "#,
         );
     }
-
     #[test]
     fn generates_intro_for_setters() {
         check_assist(