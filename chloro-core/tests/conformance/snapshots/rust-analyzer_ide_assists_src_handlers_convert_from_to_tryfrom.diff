COMPARISON DIFF
============================================================

Original size: 6719 bytes
Chloro size:   6129 bytes
Rustfmt size:  6719 bytes

âœ— Outputs DIFFER

--- DIFF (- rustfmt, + chloro) ---
 
 use crate::{AssistContext, AssistId, Assists};
 
-// Assist: convert_from_to_tryfrom
-//
-// Converts a From impl to a TryFrom impl, wrapping returns in `Ok`.
-//
-// ```
-// # //- minicore: from
-// impl $0From<usize> for Thing {
-//     fn from(val: usize) -> Self {
-//         Thing {
-//             b: val.to_string(),
-//             a: val
-//         }
-//     }
-// }
-// ```
-// ->
-// ```
-// impl TryFrom<usize> for Thing {
-//     type Error = ${0:()};
-//
-//     fn try_from(val: usize) -> Result<Self, Self::Error> {
-//         Ok(Thing {
-//             b: val.to_string(),
-//             a: val
-//         })
-//     }
-// }
-// ```
 pub(crate) fn convert_from_to_tryfrom(acc: &mut Assists, ctx: &AssistContext<'_>) -> Option<()> {
     let impl_ = ctx.find_node_at_offset::<ast::Impl>()?;
     let trait_ty = impl_.trait_()?;
-
     let module = ctx.sema.scope(impl_.syntax())?.module();
-
     let from_type = match &trait_ty {
         ast::Type::PathType(path) => {
             path.path()?.segment()?.generic_arg_list()?.generic_args().next()?
         }
         _ => return None,
     };
-
     let associated_items = impl_.assoc_item_list()?;
     let associated_l_curly = associated_items.l_curly_token()?;
     let from_fn = associated_items.assoc_items().find_map(|item| {
         };
         None
     })?;
-
     let from_fn_name = from_fn.name()?;
     let from_fn_return_type = from_fn.ret_type()?.ty()?;
-
     let return_exprs = from_fn.body()?.syntax().descendants().filter_map(ast::ReturnExpr::cast);
     let tail_expr = from_fn.body()?.tail_expr()?;
-
     if resolve_target_trait(&ctx.sema, &impl_)?
         != FamousDefs(&ctx.sema, module.krate()).core_convert_From()?
     {
         return None;
     }
-
     acc.add(
         AssistId::refactor_rewrite("convert_from_to_tryfrom"),
         "Convert From to TryFrom",
 #[cfg(test)]
 mod tests {
     use super::*;
-
     use crate::tests::{check_assist, check_assist_not_applicable};
-
     #[test]
     fn converts_from_to_tryfrom() {
         check_assist(
             "#,
         );
     }
-
     #[test]
     fn converts_from_to_tryfrom_nested_type() {
         check_assist(
             "#,
         );
     }
-
     #[test]
     fn converts_from_to_tryfrom_preserves_lifetimes() {
         check_assist(
             "#,
         );
     }
-
     #[test]
     fn other_trait_not_applicable() {
         check_assist_not_applicable(