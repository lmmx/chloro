COMPARISON DIFF
============================================================

Original size: 20441 bytes
Chloro size:   20425 bytes
Rustfmt size:  22031 bytes

âœ— Outputs DIFFER

--- DIFF (- rustfmt, + chloro) ---
 //! Advertises the capabilities of the LSP Server.
+
 use ide::{CompletionFieldsToResolve, InlayFieldsToResolve};
-use ide_db::{line_index::WideEncoding, FxHashSet};
+use ide_db::{FxHashSet, line_index::WideEncoding};
 use lsp_types::{
     CallHierarchyServerCapability, CodeActionKind, CodeActionOptions, CodeActionProviderCapability,
     CodeLensOptions, CompletionOptions, CompletionOptionsCompletionItem, DeclarationCapability,
                 _ => None,
             },
         },
-        text_document_sync: Some(TextDocumentSyncCapability::Options(
-            TextDocumentSyncOptions {
-                open_close: Some(true),
-                change: Some(TextDocumentSyncKind::INCREMENTAL),
-                will_save: None,
-                will_save_wait_until: None,
-                save: Some(SaveOptions::default().into()),
-            },
-        )),
+        text_document_sync: Some(TextDocumentSyncCapability::Options(TextDocumentSyncOptions {
+            open_close: Some(true),
+            change: Some(TextDocumentSyncKind::INCREMENTAL),
+            will_save: None,
+            will_save_wait_until: None,
+            save: Some(SaveOptions::default().into()),
+        })),
         hover_provider: Some(HoverProviderCapability::Simple(true)),
         completion_provider: Some(CompletionOptions {
             resolve_provider: if config.client_is_neovim() {
-                config
-                    .has_completion_item_resolve_additionalTextEdits()
-                    .then_some(true)
+                config.has_completion_item_resolve_additionalTextEdits().then_some(true)
             } else {
                 Some(config.caps().completions_resolve_provider())
             },
             ]),
             all_commit_characters: None,
             completion_item: config.caps().completion_item(),
-            work_done_progress_options: WorkDoneProgressOptions {
-                work_done_progress: None,
-            },
+            work_done_progress_options: WorkDoneProgressOptions { work_done_progress: None },
         }),
         signature_help_provider: Some(SignatureHelpOptions {
             trigger_characters: Some(vec!["(".to_owned(), ",".to_owned(), "<".to_owned()]),
             retrigger_characters: None,
-            work_done_progress_options: WorkDoneProgressOptions {
-                work_done_progress: None,
-            },
+            work_done_progress_options: WorkDoneProgressOptions { work_done_progress: None },
         }),
         declaration_provider: Some(DeclarationCapability::Simple(true)),
         definition_provider: Some(OneOf::Left(true)),
         document_symbol_provider: Some(OneOf::Left(true)),
         workspace_symbol_provider: Some(OneOf::Left(true)),
         code_action_provider: Some(config.caps().code_action_capabilities()),
-        code_lens_provider: Some(CodeLensOptions {
-            resolve_provider: Some(true),
-        }),
+        code_lens_provider: Some(CodeLensOptions { resolve_provider: Some(true) }),
         document_formatting_provider: Some(OneOf::Left(true)),
         document_range_formatting_provider: match config.rustfmt(None) {
-            RustfmtConfig::Rustfmt {
-                enable_range_formatting: true,
-                ..
-            } => Some(OneOf::Left(true)),
+            RustfmtConfig::Rustfmt { enable_range_formatting: true, .. } => Some(OneOf::Left(true)),
             _ => Some(OneOf::Left(false)),
         },
         document_on_type_formatting_provider: Some({
         folding_range_provider: Some(FoldingRangeProviderCapability::Simple(true)),
         rename_provider: Some(OneOf::Right(RenameOptions {
             prepare_provider: Some(true),
-            work_done_progress_options: WorkDoneProgressOptions {
-                work_done_progress: None,
-            },
+            work_done_progress_options: WorkDoneProgressOptions { work_done_progress: None },
         })),
         linked_editing_range_provider: None,
         document_link_provider: None,
                 inter_file_dependencies: true,
                 // FIXME
                 workspace_diagnostics: false,
-                work_done_progress_options: WorkDoneProgressOptions {
-                    work_done_progress: None,
-                },
+                work_done_progress_options: WorkDoneProgressOptions { work_done_progress: None },
             },
         )),
         inline_completion_provider: None,
             Some(general) => general.position_encodings.as_deref().unwrap_or_default(),
             None => &[],
         };
-
         for enc in client_encodings {
             if enc == &PositionEncodingKind::UTF8 {
                 return PositionEncoding::Utf8;
             }
             // NB: intentionally prefer just about anything else to utf-16.
         }
-
         PositionEncoding::Wide(WideEncoding::Utf16)
     }
 
-    pub fn workspace_edit_resource_operations(
-        &self,
-    ) -> Option<&[lsp_types::ResourceOperationKind]> {
-        self.0
-            .workspace
-            .as_ref()?
-            .workspace_edit
-            .as_ref()?
-            .resource_operations
-            .as_deref()
+    pub fn workspace_edit_resource_operations(&self) -> Option<&[lsp_types::ResourceOperationKind]> {
+        self.0.workspace.as_ref()?.workspace_edit.as_ref()?.resource_operations.as_deref()
     }
 
     pub fn semantics_tokens_augments_syntax_tokens(&self) -> bool {
         (|| -> _ {
-            self.0
-                .text_document
-                .as_ref()?
-                .semantic_tokens
-                .as_ref()?
-                .augments_syntax_tokens
+            self.0.text_document.as_ref()?.semantic_tokens.as_ref()?.augments_syntax_tokens
         })()
         .unwrap_or(false)
     }
 
     pub fn did_change_watched_files_dynamic_registration(&self) -> bool {
         (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .did_change_watched_files
-                .as_ref()?
-                .dynamic_registration
+            self.0.workspace.as_ref()?.did_change_watched_files.as_ref()?.dynamic_registration
         })()
         .unwrap_or_default()
     }
 
     pub fn did_change_watched_files_relative_pattern_support(&self) -> bool {
         (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .did_change_watched_files
-                .as_ref()?
-                .relative_pattern_support
+            self.0.workspace.as_ref()?.did_change_watched_files.as_ref()?.relative_pattern_support
         })()
         .unwrap_or_default()
     }
     }
 
     pub fn line_folding_only(&self) -> bool {
-        (|| -> _ {
-            self.0
-                .text_document
-                .as_ref()?
-                .folding_range
-                .as_ref()?
-                .line_folding_only
-        })()
-        .unwrap_or_default()
+        (|| -> _ { self.0.text_document.as_ref()?.folding_range.as_ref()?.line_folding_only })()
+            .unwrap_or_default()
     }
 
     pub fn hierarchical_symbols(&self) -> bool {
     }
 
     pub fn will_rename(&self) -> bool {
-        (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .file_operations
-                .as_ref()?
-                .will_rename
-        })()
-        .unwrap_or_default()
+        (|| -> _ { self.0.workspace.as_ref()?.file_operations.as_ref()?.will_rename })()
+            .unwrap_or_default()
     }
 
     pub fn change_annotation_support(&self) -> bool {
         (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .workspace_edit
-                .as_ref()?
-                .change_annotation_support
-                .as_ref()
+            self.0.workspace.as_ref()?.workspace_edit.as_ref()?.change_annotation_support.as_ref()
         })()
         .is_some()
     }
     }
 
     pub fn text_document_diagnostic_related_document_support(&self) -> bool {
-        (|| -> _ {
-            self.0
-                .text_document
-                .as_ref()?
-                .diagnostic
-                .as_ref()?
-                .related_document_support
-        })() == Some(true)
+        (|| -> _ { self.0.text_document.as_ref()?.diagnostic.as_ref()?.related_document_support })()
+            == Some(true)
     }
 
     pub fn code_action_group(&self) -> bool {
     }
 
     pub fn semantic_tokens_refresh(&self) -> bool {
-        (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .semantic_tokens
-                .as_ref()?
-                .refresh_support
-        })()
-        .unwrap_or_default()
+        (|| -> _ { self.0.workspace.as_ref()?.semantic_tokens.as_ref()?.refresh_support })()
+            .unwrap_or_default()
     }
 
     pub fn code_lens_refresh(&self) -> bool {
-        (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .code_lens
-                .as_ref()?
-                .refresh_support
-        })()
-        .unwrap_or_default()
+        (|| -> _ { self.0.workspace.as_ref()?.code_lens.as_ref()?.refresh_support })()
+            .unwrap_or_default()
     }
 
     pub fn inlay_hints_refresh(&self) -> bool {
-        (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .inlay_hint
-                .as_ref()?
-                .refresh_support
-        })()
-        .unwrap_or_default()
+        (|| -> _ { self.0.workspace.as_ref()?.inlay_hint.as_ref()?.refresh_support })()
+            .unwrap_or_default()
     }
 
     pub fn diagnostics_refresh(&self) -> bool {
-        (|| -> _ {
-            self.0
-                .workspace
-                .as_ref()?
-                .diagnostic
-                .as_ref()?
-                .refresh_support
-        })()
-        .unwrap_or_default()
+        (|| -> _ { self.0.workspace.as_ref()?.diagnostic.as_ref()?.refresh_support })()
+            .unwrap_or_default()
     }
 
     pub fn inlay_hint_resolve_support_properties(&self) -> FxHashSet<&str> {
 
     pub fn hover_markdown_support(&self) -> bool {
         (|| -> _ {
-            Some(
-                self.0
-                    .text_document
-                    .as_ref()?
-                    .hover
-                    .as_ref()?
-                    .content_format
-                    .as_ref()?
-                    .as_slice(),
-            )
+            Some(self.0.text_document.as_ref()?.hover.as_ref()?.content_format.as_ref()?.as_slice())
         })()
         .unwrap_or_default()
         .contains(&lsp_types::MarkupKind::Markdown)